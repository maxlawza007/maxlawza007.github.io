"use strict";(self.webpackChunkdashboard=self.webpackChunkdashboard||[]).push([[863],{2863:(kr,ne,u)=>{u.r(ne),u.d(ne,{default:()=>xr});var V={};u.r(V),u.d(V,{Decoder:()=>te,Encoder:()=>Et,PacketType:()=>d,protocol:()=>vt});var Ne=u(9192),e=u(4438);let Fe=(()=>{class s{constructor(){}static{this.\u0275fac=function(n){return new(n||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["monitor"]],standalone:!0,features:[e.aNF],decls:1,vars:0,template:function(n,i){1&n&&e.nrm(0,"router-outlet")},dependencies:[Ne.n3],encapsulation:2,changeDetection:0})}}return s})();const x=Object.create(null);x.open="0",x.close="1",x.ping="2",x.pong="3",x.message="4",x.upgrade="5",x.noop="6";const N=Object.create(null);Object.keys(x).forEach(s=>{N[x[s]]=s});const Y={type:"error",data:"parser error"},ie="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),oe="function"==typeof ArrayBuffer,ae=s=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(s):s&&s.buffer instanceof ArrayBuffer,G=({type:s,data:r},t,n)=>ie&&r instanceof Blob?t?n(r):le(r,n):oe&&(r instanceof ArrayBuffer||ae(r))?t?n(r):le(new Blob([r]),n):n(x[s]+(r||"")),le=(s,r)=>{const t=new FileReader;return t.onload=function(){const n=t.result.split(",")[1];r("b"+(n||""))},t.readAsDataURL(s)};function ce(s){return s instanceof Uint8Array?s:s instanceof ArrayBuffer?new Uint8Array(s):new Uint8Array(s.buffer,s.byteOffset,s.byteLength)}let H;const C=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let s=0;s<64;s++)C["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(s)]=s;const De="function"==typeof ArrayBuffer,q=(s,r)=>{if("string"!=typeof s)return{type:"message",data:de(s,r)};const t=s.charAt(0);return"b"===t?{type:"message",data:Le(s.substring(1),r)}:N[t]?s.length>1?{type:N[t],data:s.substring(1)}:{type:N[t]}:Y},Le=(s,r)=>{if(De){const t=(s=>{let n,o,a,l,c,r=.75*s.length,t=s.length,i=0;"="===s[s.length-1]&&(r--,"="===s[s.length-2]&&r--);const m=new ArrayBuffer(r),h=new Uint8Array(m);for(n=0;n<t;n+=4)o=C[s.charCodeAt(n)],a=C[s.charCodeAt(n+1)],l=C[s.charCodeAt(n+2)],c=C[s.charCodeAt(n+3)],h[i++]=o<<2|a>>4,h[i++]=(15&a)<<4|l>>2,h[i++]=(3&l)<<6|63&c;return m})(s);return de(t,r)}return{base64:!0,data:s}},de=(s,r)=>"blob"===r?s instanceof Blob?s:new Blob([s]):s instanceof ArrayBuffer?s:s.buffer;let z;function F(s){return s.reduce((r,t)=>r+t.length,0)}function j(s,r){if(s[0].length===r)return s.shift();const t=new Uint8Array(r);let n=0;for(let i=0;i<r;i++)t[i]=s[0][n++],n===s[0].length&&(s.shift(),n=0);return s.length&&n<s[0].length&&(s[0]=s[0].slice(n)),t}function f(s){if(s)return function Ye(s){for(var r in f.prototype)s[r]=f.prototype[r];return s}(s)}f.prototype.on=f.prototype.addEventListener=function(s,r){return this._callbacks=this._callbacks||{},(this._callbacks["$"+s]=this._callbacks["$"+s]||[]).push(r),this},f.prototype.once=function(s,r){function t(){this.off(s,t),r.apply(this,arguments)}return t.fn=r,this.on(s,t),this},f.prototype.off=f.prototype.removeListener=f.prototype.removeAllListeners=f.prototype.removeEventListener=function(s,r){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var t=this._callbacks["$"+s];if(!t)return this;if(1==arguments.length)return delete this._callbacks["$"+s],this;for(var n,i=0;i<t.length;i++)if((n=t[i])===r||n.fn===r){t.splice(i,1);break}return 0===t.length&&delete this._callbacks["$"+s],this},f.prototype.emitReserved=f.prototype.emit=function(s){this._callbacks=this._callbacks||{};for(var r=new Array(arguments.length-1),t=this._callbacks["$"+s],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(t){n=0;for(var i=(t=t.slice(0)).length;n<i;++n)t[n].apply(this,r)}return this},f.prototype.listeners=function(s){return this._callbacks=this._callbacks||{},this._callbacks["$"+s]||[]},f.prototype.hasListeners=function(s){return!!this.listeners(s).length};const b=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function fe(s,...r){return r.reduce((t,n)=>(s.hasOwnProperty(n)&&(t[n]=s[n]),t),{})}const Ge=b.setTimeout,He=b.clearTimeout;function M(s,r){r.useNativeTimers?(s.setTimeoutFn=Ge.bind(b),s.clearTimeoutFn=He.bind(b)):(s.setTimeoutFn=b.setTimeout.bind(b),s.clearTimeoutFn=b.clearTimeout.bind(b))}function ze(s){return"string"==typeof s?function Xe(s){let r=0,t=0;for(let n=0,i=s.length;n<i;n++)r=s.charCodeAt(n),r<128?t+=1:r<2048?t+=2:r<55296||r>=57344?t+=3:(n++,t+=4);return t}(s):Math.ceil(1.33*(s.byteLength||s.size))}class Ke extends Error{constructor(r,t,n){super(r),this.description=t,this.context=n,this.type="TransportError"}}class X extends f{constructor(r){super(),this.writable=!1,M(this,r),this.opts=r,this.query=r.query,this.socket=r.socket}onError(r,t,n){return super.emitReserved("error",new Ke(r,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(r){"open"===this.readyState&&this.write(r)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(r){const t=q(r,this.socket.binaryType);this.onPacket(t)}onPacket(r){super.emitReserved("packet",r)}onClose(r){this.readyState="closed",super.emitReserved("close",r)}pause(r){}createUri(r,t={}){return r+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const r=this.opts.hostname;return-1===r.indexOf(":")?r:"["+r+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(r){const t=function We(s){let r="";for(let t in s)s.hasOwnProperty(t)&&(r.length&&(r+="&"),r+=encodeURIComponent(t)+"="+encodeURIComponent(s[t]));return r}(r);return t.length?"?"+t:""}}const pe="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),D=64,me={};let be,ge=0,w=0;function ve(s){let r="";do{r=pe[s%D]+r,s=Math.floor(s/D)}while(s>0);return r}function Ee(){const s=ve(+new Date);return s!==be?(ge=0,be=s):s+"."+ve(ge++)}for(;w<D;w++)me[pe[w]]=w;let ye=!1;try{ye=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Qe=ye;function xe(s){const r=s.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!r||Qe))return new XMLHttpRequest}catch{}if(!r)try{return new(b[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch{}}function Ze(){}const et=null!=new xe({xdomain:!1}).responseType;let L=(()=>{class s extends f{constructor(t,n){super(),M(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.data=void 0!==n.data?n.data:null,this.create()}create(){var t;const n=fe(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const i=this.xhr=new xe(n);try{i.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let o in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(o)&&i.setRequestHeader(o,this.opts.extraHeaders[o])}}catch{}if("POST"===this.method)try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}null===(t=this.opts.cookieJar)||void 0===t||t.addCookies(i),"withCredentials"in i&&(i.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(i.timeout=this.opts.requestTimeout),i.onreadystatechange=()=>{var o;3===i.readyState&&(null===(o=this.opts.cookieJar)||void 0===o||o.parseCookies(i)),4===i.readyState&&(200===i.status||1223===i.status?this.onLoad():this.setTimeoutFn(()=>{this.onError("number"==typeof i.status?i.status:0)},0))},i.send(this.data)}catch(o){return void this.setTimeoutFn(()=>{this.onError(o)},0)}typeof document<"u"&&(this.index=s.requestsCount++,s.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||null===this.xhr)){if(this.xhr.onreadystatechange=Ze,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete s.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}return s.requestsCount=0,s.requests={},s})();function we(){for(let s in L.requests)L.requests.hasOwnProperty(s)&&L.requests[s].abort()}typeof document<"u"&&("function"==typeof attachEvent?attachEvent("onunload",we):"function"==typeof addEventListener&&addEventListener("onpagehide"in b?"pagehide":"unload",we,!1));const W="function"==typeof Promise&&"function"==typeof Promise.resolve?r=>Promise.resolve().then(r):(r,t)=>t(r,0),$=b.WebSocket||b.MozWebSocket,ke=typeof navigator<"u"&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),it={websocket:class st extends X{constructor(r){super(r),this.supportsBinary=!r.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const r=this.uri(),t=this.opts.protocols,n=ke?{}:fe(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=ke?new $(r,t,n):t?new $(r,t):new $(r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=r=>this.onClose({description:"websocket connection closed",context:r}),this.ws.onmessage=r=>this.onData(r.data),this.ws.onerror=r=>this.onError("websocket error",r)}write(r){this.writable=!1;for(let t=0;t<r.length;t++){const i=t===r.length-1;G(r[t],this.supportsBinary,o=>{try{this.ws.send(o)}catch{}i&&W(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const r=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Ee()),this.supportsBinary||(t.b64=1),this.createUri(r,t)}check(){return!!$}},webtransport:class nt extends X{get name(){return"webtransport"}doOpen(){"function"==typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(r=>{this.onError("webtransport error",r)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(r=>{const t=function Ve(s,r){z||(z=new TextDecoder);const t=[];let n=0,i=-1,o=!1;return new TransformStream({transform(a,l){for(t.push(a);;){if(0===n){if(F(t)<1)break;const c=j(t,1);o=!(128&~c[0]),i=127&c[0],n=i<126?3:126===i?1:2}else if(1===n){if(F(t)<2)break;const c=j(t,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(2===n){if(F(t)<8)break;const c=j(t,8),m=new DataView(c.buffer,c.byteOffset,c.length),h=m.getUint32(0);if(h>Math.pow(2,21)-1){l.enqueue(Y);break}i=h*Math.pow(2,32)+m.getUint32(4),n=3}else{if(F(t)<i)break;const c=j(t,i);l.enqueue(q(o?c:z.decode(c),r)),n=0}if(0===i||i>s){l.enqueue(Y);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=r.readable.pipeThrough(t).getReader(),i=function Pe(){return new TransformStream({transform(s,r){!function je(s,r){ie&&s.data instanceof Blob?s.data.arrayBuffer().then(ce).then(r):oe&&(s.data instanceof ArrayBuffer||ae(s.data))?r(ce(s.data)):G(s,!1,t=>{H||(H=new TextEncoder),r(H.encode(t))})}(s,t=>{const n=t.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,n)}else{i=new Uint8Array(9);const o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(n))}s.data&&"string"!=typeof s.data&&(i[0]|=128),r.enqueue(i),r.enqueue(t)})}})}();i.readable.pipeTo(r.writable),this.writer=i.writable.getWriter();const o=()=>{n.read().then(({done:l,value:c})=>{l||(this.onPacket(c),o())}).catch(l=>{})};o();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this.writer.write(a).then(()=>this.onOpen())})}))}write(r){this.writable=!1;for(let t=0;t<r.length;t++){const i=t===r.length-1;this.writer.write(r[t]).then(()=>{i&&W(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var r;null===(r=this.transport)||void 0===r||r.close()}},polling:class tt extends X{constructor(r){if(super(r),this.polling=!1,typeof location<"u"){const n="https:"===location.protocol;let i=location.port;i||(i=n?"443":"80"),this.xd=typeof location<"u"&&r.hostname!==location.hostname||i!==r.port}this.supportsBinary=et&&!(r&&r.forceBase64),this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(r){this.readyState="pausing";const t=()=>{this.readyState="paused",r()};if(this.polling||!this.writable){let n=0;this.polling&&(n++,this.once("pollComplete",function(){--n||t()})),this.writable||(n++,this.once("drain",function(){--n||t()}))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(r){((s,r)=>{const t=s.split("\x1e"),n=[];for(let i=0;i<t.length;i++){const o=q(t[i],r);if(n.push(o),"error"===o.type)break}return n})(r,this.socket.binaryType).forEach(n=>{if("opening"===this.readyState&&"open"===n.type&&this.onOpen(),"close"===n.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)}),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const r=()=>{this.write([{type:"close"}])};"open"===this.readyState?r():this.once("open",r)}write(r){this.writable=!1,((s,r)=>{const t=s.length,n=new Array(t);let i=0;s.forEach((o,a)=>{G(o,!1,l=>{n[a]=l,++i===t&&r(n.join("\x1e"))})})})(r,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const r=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=Ee()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(r,t)}request(r={}){return Object.assign(r,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new L(this.uri(),r)}doWrite(r,t){const n=this.request({method:"POST",data:r});n.on("success",t),n.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const r=this.request();r.on("data",this.onData.bind(this)),r.on("error",(t,n)=>{this.onError("xhr poll error",t,n)}),this.pollXhr=r}}},ot=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,at=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function K(s){if(s.length>2e3)throw"URI too long";const r=s,t=s.indexOf("["),n=s.indexOf("]");-1!=t&&-1!=n&&(s=s.substring(0,t)+s.substring(t,n).replace(/:/g,";")+s.substring(n,s.length));let i=ot.exec(s||""),o={},a=14;for(;a--;)o[at[a]]=i[a]||"";return-1!=t&&-1!=n&&(o.source=r,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function lt(s,r){const n=r.replace(/\/{2,9}/g,"/").split("/");return("/"==r.slice(0,1)||0===r.length)&&n.splice(0,1),"/"==r.slice(-1)&&n.splice(n.length-1,1),n}(0,o.path),o.queryKey=function ct(s,r){const t={};return r.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,o){i&&(t[i]=o)}),t}(0,o.query),o}let _e=(()=>{class s extends f{constructor(t,n={}){super(),this.binaryType="arraybuffer",this.writeBuffer=[],t&&"object"==typeof t&&(n=t,t=null),t?(t=K(t),n.hostname=t.host,n.secure="https"===t.protocol||"wss"===t.protocol,n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=K(n.host).host),M(this,n),this.secure=null!=n.secure?n.secure:typeof location<"u"&&"https:"===location.protocol,n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function Je(s){let r={},t=s.split("&");for(let n=0,i=t.length;n<i;n++){let o=t[n].split("=");r[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return r}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=4,n.transport=t,this.id&&(n.sid=this.id);const i=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new it[t](i)}open(){let t;if(this.opts.rememberUpgrade&&s.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch{return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),i=!1;s.priorWebsocketSuccess=!1;const o=()=>{i||(n.send([{type:"ping",data:"probe"}]),n.once("packet",p=>{if(!i)if("pong"===p.type&&"probe"===p.data){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;s.priorWebsocketSuccess="websocket"===n.name,this.transport.pause(()=>{i||"closed"!==this.readyState&&(_(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const g=new Error("probe error");g.transport=n.name,this.emitReserved("upgradeError",g)}}))};function a(){i||(i=!0,_(),n.close(),n=null)}const l=p=>{const g=new Error("probe error: "+p);g.transport=n.name,a(),this.emitReserved("upgradeError",g)};function c(){l("transport closed")}function m(){l("socket closed")}function h(p){n&&p.name!==n.name&&a()}const _=()=>{n.removeListener("open",o),n.removeListener("error",l),n.removeListener("close",c),this.off("close",m),this.off("upgrading",h)};n.once("open",o),n.once("error",l),n.once("close",c),this.once("close",m),this.once("upgrading",h),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==t?this.setTimeoutFn(()=>{i||n.open()},200):n.open()}onOpen(){if(this.readyState="open",s.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let i=0;i<this.writeBuffer.length;i++){const o=this.writeBuffer[i].data;if(o&&(n+=ze(o)),i>0&&n>this.maxPayload)return this.writeBuffer.slice(0,i);n+=2}return this.writeBuffer}write(t,n,i){return this.sendPacket("message",t,n,i),this}send(t,n,i){return this.sendPacket("message",t,n,i),this}sendPacket(t,n,i,o){if("function"==typeof n&&(o=n,n=void 0),"function"==typeof i&&(o=i,i=null),"closing"===this.readyState||"closed"===this.readyState)return;(i=i||{}).compress=!1!==i.compress;const a={type:t,data:n,options:i};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),o&&this.once("flush",o),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},i=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}onError(t){s.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let i=0;const o=t.length;for(;i<o;i++)~this.transports.indexOf(t[i])&&n.push(t[i]);return n}}return s.protocol=4,s})();const ut="function"==typeof ArrayBuffer,ht=s=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(s):s.buffer instanceof ArrayBuffer,Te=Object.prototype.toString,ft="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===Te.call(Blob),pt="function"==typeof File||typeof File<"u"&&"[object FileConstructor]"===Te.call(File);function Q(s){return ut&&(s instanceof ArrayBuffer||ht(s))||ft&&s instanceof Blob||pt&&s instanceof File}function U(s,r){if(!s||"object"!=typeof s)return!1;if(Array.isArray(s)){for(let t=0,n=s.length;t<n;t++)if(U(s[t]))return!0;return!1}if(Q(s))return!0;if(s.toJSON&&"function"==typeof s.toJSON&&1===arguments.length)return U(s.toJSON(),!0);for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t)&&U(s[t]))return!0;return!1}function mt(s){const r=[],n=s;return n.data=Z(s.data,r),n.attachments=r.length,{packet:n,buffers:r}}function Z(s,r){if(!s)return s;if(Q(s)){const t={_placeholder:!0,num:r.length};return r.push(s),t}if(Array.isArray(s)){const t=new Array(s.length);for(let n=0;n<s.length;n++)t[n]=Z(s[n],r);return t}if("object"==typeof s&&!(s instanceof Date)){const t={};for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=Z(s[n],r));return t}return s}function gt(s,r){return s.data=ee(s.data,r),delete s.attachments,s}function ee(s,r){if(!s)return s;if(s&&!0===s._placeholder){if("number"==typeof s.num&&s.num>=0&&s.num<r.length)return r[s.num];throw new Error("illegal attachments")}if(Array.isArray(s))for(let t=0;t<s.length;t++)s[t]=ee(s[t],r);else if("object"==typeof s)for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&(s[t]=ee(s[t],r));return s}const bt=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],vt=5;var d=function(s){return s[s.CONNECT=0]="CONNECT",s[s.DISCONNECT=1]="DISCONNECT",s[s.EVENT=2]="EVENT",s[s.ACK=3]="ACK",s[s.CONNECT_ERROR=4]="CONNECT_ERROR",s[s.BINARY_EVENT=5]="BINARY_EVENT",s[s.BINARY_ACK=6]="BINARY_ACK",s}(d||{});class Et{constructor(r){this.replacer=r}encode(r){return r.type!==d.EVENT&&r.type!==d.ACK||!U(r)?[this.encodeAsString(r)]:this.encodeAsBinary({type:r.type===d.EVENT?d.BINARY_EVENT:d.BINARY_ACK,nsp:r.nsp,data:r.data,id:r.id})}encodeAsString(r){let t=""+r.type;return(r.type===d.BINARY_EVENT||r.type===d.BINARY_ACK)&&(t+=r.attachments+"-"),r.nsp&&"/"!==r.nsp&&(t+=r.nsp+","),null!=r.id&&(t+=r.id),null!=r.data&&(t+=JSON.stringify(r.data,this.replacer)),t}encodeAsBinary(r){const t=mt(r),n=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(n),i}}function Ae(s){return"[object Object]"===Object.prototype.toString.call(s)}class te extends f{constructor(r){super(),this.reviver=r}add(r){let t;if("string"==typeof r){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(r);const n=t.type===d.BINARY_EVENT;n||t.type===d.BINARY_ACK?(t.type=n?d.EVENT:d.ACK,this.reconstructor=new yt(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!Q(r)&&!r.base64)throw new Error("Unknown type: "+r);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(r),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(r){let t=0;const n={type:Number(r.charAt(0))};if(void 0===d[n.type])throw new Error("unknown packet type "+n.type);if(n.type===d.BINARY_EVENT||n.type===d.BINARY_ACK){const o=t+1;for(;"-"!==r.charAt(++t)&&t!=r.length;);const a=r.substring(o,t);if(a!=Number(a)||"-"!==r.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(a)}if("/"===r.charAt(t+1)){const o=t+1;for(;++t&&","!==r.charAt(t)&&t!==r.length;);n.nsp=r.substring(o,t)}else n.nsp="/";const i=r.charAt(t+1);if(""!==i&&Number(i)==i){const o=t+1;for(;++t;){const a=r.charAt(t);if(null==a||Number(a)!=a){--t;break}if(t===r.length)break}n.id=Number(r.substring(o,t+1))}if(r.charAt(++t)){const o=this.tryParse(r.substr(t));if(!te.isPayloadValid(n.type,o))throw new Error("invalid payload");n.data=o}return n}tryParse(r){try{return JSON.parse(r,this.reviver)}catch{return!1}}static isPayloadValid(r,t){switch(r){case d.CONNECT:return Ae(t);case d.DISCONNECT:return void 0===t;case d.CONNECT_ERROR:return"string"==typeof t||Ae(t);case d.EVENT:case d.BINARY_EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===bt.indexOf(t[0]));case d.ACK:case d.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class yt{constructor(r){this.packet=r,this.buffers=[],this.reconPack=r}takeBinaryData(r){if(this.buffers.push(r),this.buffers.length===this.reconPack.attachments){const t=gt(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function E(s,r,t){return s.on(r,t),function(){s.off(r,t)}}const xt=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Ce extends f{constructor(r,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=r,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const r=this.io;this.subs=[E(r,"open",this.onopen.bind(this)),E(r,"packet",this.onpacket.bind(this)),E(r,"error",this.onerror.bind(this)),E(r,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...r){return r.unshift("message"),this.emit.apply(this,r),this}emit(r,...t){if(xt.hasOwnProperty(r))throw new Error('"'+r.toString()+'" is a reserved event name');if(t.unshift(r),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const n={type:d.EVENT,data:t,options:{}};if(n.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const a=this.ids++,l=t.pop();this._registerAckCallback(a,l),n.id=a}return this.flags.volatile&&(!(this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable)||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(r,t){var n;const i=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===i)return void(this.acks[r]=t);const o=this.io.setTimeoutFn(()=>{delete this.acks[r];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===r&&this.sendBuffer.splice(l,1);t.call(this,new Error("operation has timed out"))},i),a=(...l)=>{this.io.clearTimeoutFn(o),t.apply(this,l)};a.withError=!0,this.acks[r]=a}emitWithAck(r,...t){return new Promise((n,i)=>{const o=(a,l)=>a?i(a):n(l);o.withError=!0,t.push(o),this.emit(r,...t)})}_addToQueue(r){let t;"function"==typeof r[r.length-1]&&(t=r.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:r,flags:Object.assign({fromQueue:!0},this.flags)};r.push((i,...o)=>n!==this._queue[0]?void 0:(null!==i?n.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(i)):(this._queue.shift(),t&&t(null,...o)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(r=!1){if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!r||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(r){r.nsp=this.nsp,this.io._packet(r)}onopen(){"function"==typeof this.auth?this.auth(r=>{this._sendConnectPacket(r)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(r){this.packet({type:d.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},r):r})}onerror(r){this.connected||this.emitReserved("connect_error",r)}onclose(r,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",r,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(r=>{if(!this.sendBuffer.some(n=>String(n.id)===r)){const n=this.acks[r];delete this.acks[r],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(r){if(r.nsp===this.nsp)switch(r.type){case d.CONNECT:r.data&&r.data.sid?this.onconnect(r.data.sid,r.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case d.EVENT:case d.BINARY_EVENT:this.onevent(r);break;case d.ACK:case d.BINARY_ACK:this.onack(r);break;case d.DISCONNECT:this.ondisconnect();break;case d.CONNECT_ERROR:this.destroy();const n=new Error(r.data.message);n.data=r.data.data,this.emitReserved("connect_error",n)}}onevent(r){const t=r.data||[];null!=r.id&&t.push(this.ack(r.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(r){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,r)}super.emit.apply(this,r),this._pid&&r.length&&"string"==typeof r[r.length-1]&&(this._lastOffset=r[r.length-1])}ack(r){const t=this;let n=!1;return function(...i){n||(n=!0,t.packet({type:d.ACK,id:r,data:i}))}}onack(r){const t=this.acks[r.id];"function"==typeof t&&(delete this.acks[r.id],t.withError&&r.data.unshift(null),t.apply(this,r.data))}onconnect(r,t){this.id=r,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(r=>this.emitEvent(r)),this.receiveBuffer=[],this.sendBuffer.forEach(r=>{this.notifyOutgoingListeners(r),this.packet(r)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(r=>r()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:d.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(r){return this.flags.compress=r,this}get volatile(){return this.flags.volatile=!0,this}timeout(r){return this.flags.timeout=r,this}onAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(r),this}prependAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(r),this}offAny(r){if(!this._anyListeners)return this;if(r){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(r===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(r),this}prependAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(r),this}offAnyOutgoing(r){if(!this._anyOutgoingListeners)return this;if(r){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(r===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(r){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,r.data)}}}function A(s){this.ms=(s=s||{}).min||100,this.max=s.max||1e4,this.factor=s.factor||2,this.jitter=s.jitter>0&&s.jitter<=1?s.jitter:0,this.attempts=0}A.prototype.duration=function(){var s=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var r=Math.random(),t=Math.floor(r*this.jitter*s);s=1&Math.floor(10*r)?s+t:s-t}return 0|Math.min(s,this.max)},A.prototype.reset=function(){this.attempts=0},A.prototype.setMin=function(s){this.ms=s},A.prototype.setMax=function(s){this.max=s},A.prototype.setJitter=function(s){this.jitter=s};class re extends f{constructor(r,t){var n;super(),this.nsps={},this.subs=[],r&&"object"==typeof r&&(t=r,r=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,M(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=t.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new A({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=r;const i=t.parser||V;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(r){return arguments.length?(this._reconnection=!!r,this):this._reconnection}reconnectionAttempts(r){return void 0===r?this._reconnectionAttempts:(this._reconnectionAttempts=r,this)}reconnectionDelay(r){var t;return void 0===r?this._reconnectionDelay:(this._reconnectionDelay=r,null===(t=this.backoff)||void 0===t||t.setMin(r),this)}randomizationFactor(r){var t;return void 0===r?this._randomizationFactor:(this._randomizationFactor=r,null===(t=this.backoff)||void 0===t||t.setJitter(r),this)}reconnectionDelayMax(r){var t;return void 0===r?this._reconnectionDelayMax:(this._reconnectionDelayMax=r,null===(t=this.backoff)||void 0===t||t.setMax(r),this)}timeout(r){return arguments.length?(this._timeout=r,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(r){if(~this._readyState.indexOf("open"))return this;this.engine=new _e(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=E(t,"open",function(){n.onopen(),r&&r()}),o=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),r?r(l):this.maybeReconnectOnOpen()},a=E(t,"error",o);if(!1!==this._timeout){const c=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),t.close()},this._timeout);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(a),this}connect(r){return this.open(r)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const r=this.engine;this.subs.push(E(r,"ping",this.onping.bind(this)),E(r,"data",this.ondata.bind(this)),E(r,"error",this.onerror.bind(this)),E(r,"close",this.onclose.bind(this)),E(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(r){try{this.decoder.add(r)}catch(t){this.onclose("parse error",t)}}ondecoded(r){W(()=>{this.emitReserved("packet",r)},this.setTimeoutFn)}onerror(r){this.emitReserved("error",r)}socket(r,t){let n=this.nsps[r];return n?this._autoConnect&&!n.active&&n.connect():(n=new Ce(this,r,t),this.nsps[r]=n),n}_destroy(r){const t=Object.keys(this.nsps);for(const n of t)if(this.nsps[n].active)return;this._close()}_packet(r){const t=this.encoder.encode(r);for(let n=0;n<t.length;n++)this.engine.write(t[n],r.options)}cleanup(){this.subs.forEach(r=>r()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(r,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",r,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const r=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{r.skipReconnect||(this.emitReserved("reconnect_attempt",r.backoff.attempts),!r.skipReconnect&&r.open(i=>{i?(r._reconnecting=!1,r.reconnect(),this.emitReserved("reconnect_error",i)):r.onreconnect()}))},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const r=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",r)}}const S={};function R(s,r){"object"==typeof s&&(r=s,s=void 0);const t=function dt(s,r="",t){let n=s;t=t||typeof location<"u"&&location,null==s&&(s=t.protocol+"//"+t.host),"string"==typeof s&&("/"===s.charAt(0)&&(s="/"===s.charAt(1)?t.protocol+s:t.host+s),/^(https?|wss?):\/\//.test(s)||(s=typeof t<"u"?t.protocol+"//"+s:"https://"+s),n=K(s)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const o=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port+r,n.href=n.protocol+"://"+o+(t&&t.port===n.port?"":":"+n.port),n}(s,(r=r||{}).path||"/socket.io"),n=t.source,i=t.id;let c;return r.forceNew||r["force new connection"]||!1===r.multiplex||S[i]&&t.path in S[i].nsps?c=new re(n,r):(S[i]||(S[i]=new re(n,r)),c=S[i]),t.query&&!r.query&&(r.query=t.queryKey),c.socket(t.path,r)}Object.assign(R,{Manager:re,Socket:Ce,io:R,connect:R});var k=u(4412),I=u(1732),P=u(8141),wt=u(1626);let O=(()=>{class s{constructor(t){this._httpClient=t,this._devices=new k.t(null),this._deviceNetwork=new k.t([]),this._logState=new k.t([])}get devices$(){return this._devices.asObservable()}get networkDevice$(){return this._deviceNetwork.asObservable()}get logState$(){return this._logState.asObservable()}set logState(t){this._logState.next(t)}setNetworkDeviceState(t,n){let i=this._deviceNetwork.value.map(o=>(t==o.deviceIp&&(o.state=n),o));this._deviceNetwork.next(i)}getDevices(){return this._httpClient.get(`${I._.api}/dashboard/devices`).pipe((0,P.M)(t=>{const n=t.filter(i=>"Y"==i.espActive);this._devices.next(n)}))}getNetWorkDevices(){return this._httpClient.get(`${I._.api}/dashboard/devices-network`).pipe((0,P.M)(t=>{this._deviceNetwork.next(t)}))}getLog(){return this._httpClient.get(`${I._.api}/dashboard/logs`).pipe((0,P.M)(t=>{this._logState.next(t)}))}static{this.\u0275fac=function(n){return new(n||s)(e.KVO(wt.Qq))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),se=(()=>{class s{constructor(t){this._monitorService=t,this.room="",this._deviceState=new k.t(null),this._logState=new k.t(null),this._isConnected=new k.t(!1)}get isConnected$(){return this._isConnected.asObservable()}get deviceState$(){return this._deviceState.asObservable()}get logState$(){return this._logState.asObservable()}connectWs(){this.room="all",this.socket=R(`${I._.ws}`,{path:"/socket.io",query:{room:this.room},transports:["websocket"],reconnection:!0,reconnectionDelayMax:2e4}),this.socket.on("connect",()=>{this._isConnected.next(this.socket.connected)}),this.socket.on("disconnect",()=>{this._isConnected.next(this.socket.connected)}),this.onEventDeviceStatChange(),this.onEventLogStatChange()}ngOnDestroy(){this.socket&&this.socket.disconnect()}disconnect(){this.socket?.connected&&(this.socket.close(),this.socket.disconnect())}onEventDeviceStatChange(){this.socket.on("state",t=>{this._deviceState.next(t)})}onEventLogStatChange(){this.socket.on("log",t=>{this._logState.next(t),this._monitorService.logState=t})}static{this.\u0275fac=function(n){return new(n||s)(e.KVO(O))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();var y=u(177),Se=u(467),Re=u(1413),Ie=u(6977),kt=u(5964),_t=u(3236),Tt=u(8211),At=u(9974),Ct=u(8750),St=u(1853),Rt=u(4360),It=u(5225);const Ot=(0,St.L)(s=>function(t=null){s(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t});function Nt(s){throw new Ot(s)}var B=u(4549);const Ft=(s,r,t)=>({"bg-gradient-to-br from-white via-emerald-50/20 to-white border border-emerald-200/50":s,"bg-gradient-to-br from-white via-red-50/20 to-white border border-red-200/50":r,"bg-gradient-to-br from-white via-blue-50/20 to-white border border-blue-200/50":t}),jt=(s,r,t)=>({"bg-gradient-to-br from-emerald-200 via-teal-200 to-emerald-300":s,"!bg-gradient-to-br !from-red-300 !via-orange-300 !to-red-400 !opacity-70":r,"bg-gradient-to-br from-blue-200 via-sky-200 to-blue-300":t}),Mt=(s,r,t)=>({"text-emerald-500 group-hover:text-emerald-600":s,"text-red-500 drop-shadow-[0_0_12px_rgba(239,68,68,0.5)]":r,"text-blue-500":t}),Dt=(s,r,t)=>({"text-emerald-700 bg-gradient-to-r from-emerald-100/80 via-teal-100/80 to-emerald-100/80 border-emerald-400/60 shadow-emerald-200/50":s,"text-red-700 bg-gradient-to-r from-red-100/80 via-orange-100/80 to-red-100/80 border-red-400/60 animate-pulse shadow-red-300/50":r,"text-blue-700 bg-gradient-to-r from-blue-100/80 via-sky-100/80 to-blue-100/80 border-blue-400/60 shadow-blue-200/50":t}),Oe=(s,r,t)=>({"fa-check-circle text-emerald-600":s,"fa-exclamation-triangle text-red-600":r,"fa-user-check text-blue-600":t}),Lt=(s,r)=>({"fa-beat text-red-200":s,"text-white":r}),$t=s=>({"animate-pulse":s}),Ut=(s,r,t)=>({"bg-red-300":s,"bg-emerald-300":r,"bg-blue-300":t}),Pt=(s,r,t)=>({"bg-red-200":s,"bg-emerald-200":r,"bg-blue-200":t}),Vt=(s,r,t)=>({"bg-gradient-to-r from-emerald-100/90 via-teal-100/90 to-emerald-100/90 text-emerald-800 border-emerald-400/60":s,"bg-gradient-to-r from-red-100/90 via-orange-100/90 to-red-100/90 text-red-800 border-red-400/60 animate-pulse":r,"bg-gradient-to-r from-blue-100/90 via-sky-100/90 to-blue-100/90 text-blue-800 border-blue-400/60":t}),Yt=(s,r)=>({"text-emerald-600":s,"text-red-600 animate-pulse":r}),Be=(s,r)=>({"text-emerald-700":s,"text-red-700":r}),Gt=(s,r)=>({"bg-gradient-to-r from-emerald-500 via-teal-500 to-emerald-500 w-full":s,"bg-gradient-to-r from-red-500 via-orange-500 to-red-500 w-1/4 animate-pulse":r}),Ht=(s,r)=>({"bg-gradient-to-r from-emerald-100 to-teal-100 text-emerald-800 border-emerald-300":s,"bg-gradient-to-r from-red-100 to-orange-100 text-red-800 border-red-300 animate-pulse":r}),qt=(s,r)=>({"fa-check-circle text-emerald-600":s,"fa-times-circle text-red-600":r}),zt=(s,r)=>({"bg-emerald-500":s,"bg-red-500":r});function Xt(s,r){1&s&&(e.j41(0,"span",35),e.nrm(1,"span",36)(2,"span",37),e.k0s())}function Wt(s,r){1&s&&(e.j41(0,"div",38),e.nrm(1,"i",39),e.k0s())}function Jt(s,r){1&s&&(e.j41(0,"div",40),e.nrm(1,"i",41),e.k0s())}function Kt(s,r){1&s&&(e.j41(0,"div",24)(1,"div",42),e.nrm(2,"i",43),e.j41(3,"span",44),e.EFF(4,"\u0e40\u0e0a\u0e37\u0e48\u0e2d\u0e21\u0e15\u0e48\u0e2d\u0e41\u0e25\u0e49\u0e27"),e.k0s(),e.j41(5,"div",45),e.nrm(6,"div",46)(7,"div",47)(8,"div",48)(9,"div",49),e.k0s()()())}function Qt(s,r){1&s&&(e.j41(0,"div",24)(1,"div",50),e.nrm(2,"i",51),e.j41(3,"span",52),e.EFF(4,"\u0e44\u0e21\u0e48\u0e21\u0e35\u0e01\u0e32\u0e23\u0e40\u0e0a\u0e37\u0e48\u0e2d\u0e21\u0e15\u0e48\u0e2d"),e.k0s()()())}function Zt(s,r){if(1&s){const t=e.RV6();e.j41(0,"div",53)(1,"a",54),e.bIt("click",function(i){return e.eBV(t),e.Njj(i.stopPropagation())}),e.nrm(2,"i",55),e.j41(3,"span",56),e.EFF(4),e.k0s(),e.nrm(5,"i",57),e.k0s()()}if(2&s){const t=e.XpG(2);e.R7$(),e.Y8G("href",t.device.gpsUrl,e.B4B),e.R7$(3),e.JRh(t.device.locationName)}}function er(s,r){if(1&s){const t=e.RV6();e.j41(0,"div",3),e.nI1(1,"async"),e.nI1(2,"async"),e.nI1(3,"async"),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.openModal())}),e.j41(4,"div",4),e.nrm(5,"div",5)(6,"div",6),e.k0s(),e.j41(7,"div",7)(8,"div",8),e.nrm(9,"i",9),e.EFF(10),e.k0s(),e.j41(11,"div",10)(12,"div",11),e.nrm(13,"i",12),e.DNE(14,Xt,3,0,"span",13),e.nI1(15,"async"),e.k0s()()(),e.j41(16,"div",14)(17,"div",15)(18,"div",16),e.nrm(19,"div",17),e.nI1(20,"async"),e.nI1(21,"async"),e.nI1(22,"async"),e.nrm(23,"i",18),e.nI1(24,"async"),e.nI1(25,"async"),e.nI1(26,"async"),e.DNE(27,Wt,2,0,"div",19),e.nI1(28,"async"),e.DNE(29,Jt,2,0,"div",20),e.nI1(30,"async"),e.k0s()(),e.j41(31,"div",21)(32,"div",22),e.nrm(33,"i",23),e.EFF(34," \u0e2a\u0e16\u0e32\u0e19\u0e30\u0e01\u0e32\u0e23\u0e17\u0e33\u0e07\u0e32\u0e19 "),e.k0s(),e.j41(35,"div",24)(36,"span",25),e.nI1(37,"async"),e.nI1(38,"async"),e.nI1(39,"async"),e.j41(40,"span",26),e.nrm(41,"i",27),e.nI1(42,"async"),e.nI1(43,"async"),e.nI1(44,"async"),e.EFF(45),e.nI1(46,"async"),e.nI1(47,"async"),e.k0s()()(),e.DNE(48,Kt,10,0,"div",28),e.nI1(49,"async"),e.DNE(50,Qt,5,0,"div",28),e.nI1(51,"async"),e.DNE(52,Zt,6,2,"div",29),e.j41(53,"div",30),e.nrm(54,"i",31),e.j41(55,"span",32),e.EFF(56,"\u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a\u0e25\u0e48\u0e32\u0e2a\u0e38\u0e14:"),e.k0s(),e.j41(57,"span",33),e.EFF(58),e.k0s()()()(),e.nrm(59,"div",34),e.k0s()}if(2&s){const t=e.XpG();e.Y8G("ngClass",e.sMw(58,Ft,"idle"===e.bMT(1,14,t.deviceStatus),"alerting"===e.bMT(2,16,t.deviceStatus),"acknowledged"===e.bMT(3,18,t.deviceStatus))),e.R7$(10),e.SpI("",t.device.espName," "),e.R7$(4),e.Y8G("ngIf",e.bMT(15,20,t.isOnline)),e.R7$(5),e.Y8G("ngClass",e.sMw(62,jt,"idle"===e.bMT(20,22,t.deviceStatus),"alerting"===e.bMT(21,24,t.deviceStatus),"acknowledged"===e.bMT(22,26,t.deviceStatus))),e.R7$(4),e.Y8G("ngClass",e.sMw(66,Mt,"idle"===e.bMT(24,28,t.deviceStatus),"alerting"===e.bMT(25,30,t.deviceStatus),"acknowledged"===e.bMT(26,32,t.deviceStatus))),e.R7$(4),e.Y8G("ngIf","alerting"===e.bMT(28,34,t.deviceStatus)),e.R7$(2),e.Y8G("ngIf","alerting"===e.bMT(30,36,t.deviceStatus)),e.R7$(7),e.Y8G("ngClass",e.sMw(70,Dt,"idle"===e.bMT(37,38,t.deviceStatus),"alerting"===e.bMT(38,40,t.deviceStatus),"acknowledged"===e.bMT(39,42,t.deviceStatus))),e.R7$(5),e.Y8G("ngClass",e.sMw(74,Oe,"idle"===e.bMT(42,44,t.deviceStatus),"alerting"===e.bMT(43,46,t.deviceStatus),"acknowledged"===e.bMT(44,48,t.deviceStatus))),e.R7$(4),e.SpI(" ","idle"===e.bMT(46,50,t.deviceStatus)?"\u2713 \u0e1e\u0e23\u0e49\u0e2d\u0e21\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19":"alerting"===e.bMT(47,52,t.deviceStatus)?"\u{1f6a8} \u0e40\u0e23\u0e35\u0e22\u0e01\u0e1e\u0e22\u0e32\u0e1a\u0e32\u0e25":"\u0e01\u0e33\u0e25\u0e31\u0e07\u0e14\u0e33\u0e40\u0e19\u0e34\u0e19\u0e01\u0e32\u0e23"," "),e.R7$(3),e.Y8G("ngIf",e.bMT(49,54,t.isOnline)),e.R7$(2),e.Y8G("ngIf",!e.bMT(51,56,t.isOnline)),e.R7$(2),e.Y8G("ngIf",t.device.gpsUrl),e.R7$(6),e.JRh(t.lastUpdate||"\u0e23\u0e2d\u0e01\u0e32\u0e23\u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a")}}function tr(s,r){if(1&s){const t=e.RV6();e.j41(0,"div",58),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.openModal())}),e.j41(1,"div",4),e.nrm(2,"div",59)(3,"div",60),e.k0s(),e.j41(4,"div",7)(5,"div",61),e.nrm(6,"i",62),e.EFF(7),e.k0s(),e.j41(8,"div",63)(9,"div",11),e.nrm(10,"i",64),e.k0s()()(),e.j41(11,"div",14)(12,"div",15),e.nrm(13,"i",65),e.k0s(),e.j41(14,"div",21)(15,"div",22),e.nrm(16,"i",66),e.EFF(17," \u0e2a\u0e16\u0e32\u0e19\u0e30\u0e01\u0e32\u0e23\u0e17\u0e33\u0e07\u0e32\u0e19 "),e.k0s(),e.j41(18,"div",24)(19,"span",67),e.nrm(20,"i",68),e.EFF(21," \u0e2d\u0e2d\u0e1f\u0e44\u0e25\u0e19\u0e4c "),e.k0s()(),e.j41(22,"div",24)(23,"div",50),e.nrm(24,"i",51),e.j41(25,"span",52),e.EFF(26,"\u0e44\u0e21\u0e48\u0e21\u0e35\u0e01\u0e32\u0e23\u0e40\u0e0a\u0e37\u0e48\u0e2d\u0e21\u0e15\u0e48\u0e2d"),e.k0s()()(),e.j41(27,"div",69),e.nrm(28,"i",70),e.j41(29,"span",32),e.EFF(30,"\u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a\u0e25\u0e48\u0e32\u0e2a\u0e38\u0e14:"),e.k0s(),e.j41(31,"span",33),e.EFF(32),e.k0s()()()()()}if(2&s){const t=e.XpG();e.R7$(7),e.SpI("",t.device.espName," "),e.R7$(25),e.JRh(t.lastUpdate||"\u0e23\u0e2d\u0e01\u0e32\u0e23\u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a")}}function rr(s,r){1&s&&(e.j41(0,"div",156),e.nrm(1,"div",157)(2,"div",158)(3,"div",159)(4,"div",160),e.k0s())}function sr(s,r){if(1&s){const t=e.RV6();e.j41(0,"div",138),e.nrm(1,"div",139),e.j41(2,"span",134)(3,"span",140),e.nrm(4,"i",161),e.k0s(),e.EFF(5," \u0e15\u0e33\u0e41\u0e2b\u0e19\u0e48\u0e07 "),e.k0s(),e.j41(6,"a",162),e.bIt("click",function(i){return e.eBV(t),e.Njj(i.stopPropagation())}),e.nrm(7,"i",163),e.j41(8,"span",56),e.EFF(9),e.k0s(),e.nrm(10,"i",164),e.k0s()()}if(2&s){const t=e.XpG(2);e.R7$(6),e.Y8G("href",t.device.gpsUrl,e.B4B),e.R7$(3),e.JRh(t.device.locationName)}}function nr(s,r){if(1&s){const t=e.RV6();e.j41(0,"div",71),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.closeModal())}),e.j41(1,"div",72),e.bIt("click",function(i){return e.eBV(t),e.Njj(i.stopPropagation())}),e.nrm(2,"div",73)(3,"div",74),e.j41(4,"div",75),e.nrm(5,"div",76)(6,"div",77),e.j41(7,"div",78),e.nrm(8,"i",79),e.k0s(),e.j41(9,"div",80)(10,"div",81)(11,"div",82),e.nrm(12,"div",83),e.j41(13,"div",84),e.nrm(14,"i",85),e.nI1(15,"async"),e.nI1(16,"async"),e.k0s()(),e.j41(17,"div")(18,"h2",86),e.EFF(19),e.k0s(),e.j41(20,"p",87),e.nrm(21,"i",88),e.EFF(22," \u0e23\u0e30\u0e1a\u0e1a\u0e40\u0e23\u0e35\u0e22\u0e01\u0e1e\u0e22\u0e32\u0e1a\u0e32\u0e25 - \u0e42\u0e23\u0e07\u0e1e\u0e22\u0e32\u0e1a\u0e32\u0e25 "),e.k0s(),e.j41(23,"div",89),e.nI1(24,"async"),e.j41(25,"span",90),e.nrm(26,"span",91),e.nI1(27,"async"),e.nI1(28,"async"),e.nI1(29,"async"),e.nrm(30,"span",92),e.nI1(31,"async"),e.nI1(32,"async"),e.nI1(33,"async"),e.k0s(),e.EFF(34),e.nI1(35,"async"),e.nI1(36,"async"),e.k0s()()(),e.j41(37,"button",93),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.closeModal())}),e.nrm(38,"i",94),e.k0s()()(),e.j41(39,"div",95)(40,"div",96),e.nrm(41,"div",97),e.j41(42,"div",98)(43,"h3",99)(44,"span",100),e.nrm(45,"i",101),e.k0s(),e.EFF(46," \u0e2a\u0e16\u0e32\u0e19\u0e30\u0e1b\u0e31\u0e08\u0e08\u0e38\u0e1a\u0e31\u0e19 "),e.k0s(),e.j41(47,"span",102),e.nI1(48,"async"),e.nI1(49,"async"),e.nI1(50,"async"),e.nrm(51,"div",103),e.j41(52,"span",26),e.nrm(53,"i",104),e.nI1(54,"async"),e.nI1(55,"async"),e.nI1(56,"async"),e.EFF(57),e.nI1(58,"async"),e.nI1(59,"async"),e.k0s()()(),e.j41(60,"div",105)(61,"div",106),e.nrm(62,"div",107),e.j41(63,"div",108),e.nrm(64,"div",109)(65,"i",110),e.nI1(66,"async"),e.nI1(67,"async"),e.k0s(),e.j41(68,"p",111),e.EFF(69,"\u0e01\u0e32\u0e23\u0e40\u0e0a\u0e37\u0e48\u0e2d\u0e21\u0e15\u0e48\u0e2d\u0e40\u0e04\u0e23\u0e37\u0e2d\u0e02\u0e48\u0e32\u0e22"),e.k0s(),e.j41(70,"p",112),e.nI1(71,"async"),e.nI1(72,"async"),e.EFF(73),e.nI1(74,"async"),e.k0s(),e.j41(75,"div",113)(76,"div",114),e.nI1(77,"async"),e.nI1(78,"async"),e.nrm(79,"div",115),e.k0s()(),e.DNE(80,rr,5,0,"div",116),e.nI1(81,"async"),e.k0s(),e.j41(82,"div",117),e.nrm(83,"div",118),e.j41(84,"div",108),e.nrm(85,"div",109)(86,"i",119),e.k0s(),e.j41(87,"p",111),e.EFF(88,"\u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a\u0e23\u0e30\u0e1a\u0e1a"),e.k0s(),e.j41(89,"p",120),e.EFF(90),e.k0s(),e.j41(91,"div",121),e.nI1(92,"async"),e.nI1(93,"async"),e.nrm(94,"i",122),e.nI1(95,"async"),e.nI1(96,"async"),e.EFF(97),e.nI1(98,"async"),e.k0s(),e.j41(99,"div",123)(100,"div",124),e.nrm(101,"div",125),e.nI1(102,"async"),e.nI1(103,"async"),e.j41(104,"span",126),e.nI1(105,"async"),e.nI1(106,"async"),e.EFF(107),e.nI1(108,"async"),e.k0s()()()()()(),e.j41(109,"div",16)(110,"h3",127)(111,"span",128),e.nrm(112,"i",129),e.k0s(),e.EFF(113," \u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e2d\u0e38\u0e1b\u0e01\u0e23\u0e13\u0e4c\u0e01\u0e32\u0e23\u0e41\u0e1e\u0e17\u0e22\u0e4c "),e.k0s(),e.j41(114,"div",130)(115,"div",131)(116,"div",132),e.nrm(117,"div",133),e.j41(118,"span",134)(119,"span",135),e.nrm(120,"i",136),e.k0s(),e.EFF(121," \u0e23\u0e2b\u0e31\u0e2a\u0e2d\u0e38\u0e1b\u0e01\u0e23\u0e13\u0e4c "),e.k0s(),e.j41(122,"span",137),e.EFF(123),e.k0s()(),e.j41(124,"div",138),e.nrm(125,"div",139),e.j41(126,"span",134)(127,"span",140),e.nrm(128,"i",141),e.k0s(),e.EFF(129," \u0e2b\u0e19\u0e48\u0e27\u0e22/\u0e41\u0e1c\u0e19\u0e01 "),e.k0s(),e.j41(130,"span",142),e.EFF(131),e.k0s()(),e.j41(132,"div",132),e.nrm(133,"div",133),e.j41(134,"span",134)(135,"span",135),e.nrm(136,"i",143),e.k0s(),e.EFF(137," \u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17 "),e.k0s(),e.j41(138,"span",144)(139,"span",145),e.nrm(140,"i",146),e.k0s(),e.EFF(141," \u0e23\u0e30\u0e1a\u0e1a\u0e40\u0e23\u0e35\u0e22\u0e01\u0e1e\u0e22\u0e32\u0e1a\u0e32\u0e25 "),e.k0s()(),e.DNE(142,sr,11,2,"div",147),e.k0s()()()(),e.j41(143,"div",148),e.nrm(144,"div",149),e.j41(145,"div",150),e.nrm(146,"i",151),e.j41(147,"span",152),e.EFF(148,"\u0e04\u0e25\u0e34\u0e01\u0e19\u0e2d\u0e01\u0e01\u0e23\u0e2d\u0e1a\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e1b\u0e34\u0e14"),e.k0s()(),e.j41(149,"button",153),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.closeModal())}),e.nrm(150,"div",154)(151,"i",155),e.j41(152,"span",16),e.EFF(153,"\u0e1b\u0e34\u0e14\u0e2b\u0e19\u0e49\u0e32\u0e15\u0e48\u0e32\u0e07"),e.k0s()()()()()}if(2&s){const t=e.XpG();e.R7$(14),e.Y8G("ngClass",e.l_i(98,Lt,"alerting"===e.bMT(15,24,t.deviceStatus),"alerting"!==e.bMT(16,26,t.deviceStatus))),e.R7$(5),e.JRh(t.device.espName),e.R7$(4),e.Y8G("ngClass",e.eq3(101,$t,"alerting"===e.bMT(24,28,t.deviceStatus))),e.R7$(3),e.Y8G("ngClass",e.sMw(103,Ut,"alerting"===e.bMT(27,30,t.deviceStatus),"idle"===e.bMT(28,32,t.deviceStatus),"acknowledged"===e.bMT(29,34,t.deviceStatus))),e.R7$(4),e.Y8G("ngClass",e.sMw(107,Pt,"alerting"===e.bMT(31,36,t.deviceStatus),"idle"===e.bMT(32,38,t.deviceStatus),"acknowledged"===e.bMT(33,40,t.deviceStatus))),e.R7$(4),e.SpI(" ","idle"===e.bMT(35,42,t.deviceStatus)?"\u0e17\u0e33\u0e07\u0e32\u0e19\u0e1b\u0e01\u0e15\u0e34":"alerting"===e.bMT(36,44,t.deviceStatus)?"\u0e2a\u0e16\u0e32\u0e19\u0e30\u0e09\u0e38\u0e01\u0e40\u0e09\u0e34\u0e19":"\u0e23\u0e31\u0e1a\u0e17\u0e23\u0e32\u0e1a\u0e41\u0e25\u0e49\u0e27"," "),e.R7$(13),e.Y8G("ngClass",e.sMw(111,Vt,"idle"===e.bMT(48,46,t.deviceStatus),"alerting"===e.bMT(49,48,t.deviceStatus),"acknowledged"===e.bMT(50,50,t.deviceStatus))),e.R7$(6),e.Y8G("ngClass",e.sMw(115,Oe,"idle"===e.bMT(54,52,t.deviceStatus),"alerting"===e.bMT(55,54,t.deviceStatus),"acknowledged"===e.bMT(56,56,t.deviceStatus))),e.R7$(4),e.SpI(" ","idle"===e.bMT(58,58,t.deviceStatus)?"\u2713 \u0e1e\u0e23\u0e49\u0e2d\u0e21\u0e43\u0e2b\u0e49\u0e1a\u0e23\u0e34\u0e01\u0e32\u0e23":"alerting"===e.bMT(59,60,t.deviceStatus)?"\u{1f6a8} \u0e40\u0e23\u0e35\u0e22\u0e01\u0e1e\u0e22\u0e32\u0e1a\u0e32\u0e25":"\u0e23\u0e31\u0e1a\u0e17\u0e23\u0e32\u0e1a\u0e41\u0e25\u0e49\u0e27"," "),e.R7$(8),e.Y8G("ngClass",e.l_i(119,Yt,e.bMT(66,62,t.isOnline),!e.bMT(67,64,t.isOnline))),e.R7$(5),e.Y8G("ngClass",e.l_i(122,Be,e.bMT(71,66,t.isOnline),!e.bMT(72,68,t.isOnline))),e.R7$(3),e.SpI(" ",e.bMT(74,70,t.isOnline)?"\u0e40\u0e0a\u0e37\u0e48\u0e2d\u0e21\u0e15\u0e48\u0e2d\u0e1b\u0e01\u0e15\u0e34":"\u0e02\u0e32\u0e14\u0e01\u0e32\u0e23\u0e40\u0e0a\u0e37\u0e48\u0e2d\u0e21\u0e15\u0e48\u0e2d"," "),e.R7$(3),e.Y8G("ngClass",e.l_i(125,Gt,e.bMT(77,72,t.isOnline),!e.bMT(78,74,t.isOnline))),e.R7$(4),e.Y8G("ngIf",e.bMT(81,76,t.isOnline)),e.R7$(10),e.JRh(t.lastUpdate||"\u0e23\u0e2d\u0e01\u0e32\u0e23\u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a"),e.R7$(),e.Y8G("ngClass",e.l_i(128,Ht,e.bMT(92,78,t.isOnline),!e.bMT(93,80,t.isOnline))),e.R7$(3),e.Y8G("ngClass",e.l_i(131,qt,e.bMT(95,82,t.isOnline),!e.bMT(96,84,t.isOnline))),e.R7$(3),e.SpI(" ",e.bMT(98,86,t.isOnline)?"\u0e23\u0e30\u0e1a\u0e1a\u0e17\u0e33\u0e07\u0e32\u0e19\u0e1b\u0e01\u0e15\u0e34":"\u0e23\u0e30\u0e1a\u0e1a\u0e2b\u0e22\u0e38\u0e14\u0e17\u0e33\u0e07\u0e32\u0e19"," "),e.R7$(4),e.Y8G("ngClass",e.l_i(134,zt,e.bMT(102,88,t.isOnline),!e.bMT(103,90,t.isOnline))),e.R7$(3),e.Y8G("ngClass",e.l_i(137,Be,e.bMT(105,92,t.isOnline),!e.bMT(106,94,t.isOnline))),e.R7$(3),e.SpI(" ",e.bMT(108,96,t.isOnline)?"Active":"Offline"," "),e.R7$(16),e.SpI(" ",t.device.espId," "),e.R7$(8),e.SpI(" ",t.device.espName," "),e.R7$(11),e.Y8G("ngIf",t.device.gpsUrl)}}let ir=(()=>{class s{constructor(t){this._socketService=t,this.TIME_UPDATE_INTERVAL_MS=3e4,this.OFFLINE_TIMEOUT_MS=6e4,this.MAX_ALERT_HISTORY=10,this.deviceStatus=new k.t("idle"),this.isOnline=new k.t(!1),this.showModal=!1,this.lastUpdate="",this.alertHistory=[],this._unsubscribeAll=new Re.B,this.updateLastUpdateTime()}ngOnInit(){this.initAlertSound(),this.subscribeToDeviceState(),this.startTimeUpdater()}ngOnDestroy(){this.cleanup()}openModal(){this.showModal=!0,this.updateLastUpdateTime(),document.body.style.overflow="hidden"}closeModal(){this.showModal=!1,document.body.style.overflow="auto"}muteAlert(){this.alertAudio&&(this.alertAudio.pause(),this.alertAudio.currentTime=0),console.log(`Muted alert for device: ${this.device.espName}`)}acknowledgeAlert(){"alerting"===this.deviceStatus.value&&(this.deviceStatus.next("acknowledged"),this.muteAlert(),this.addAlertToHistory({type:"acknowledge",time:B.c9.now().toFormat("HH:mm \u0e19."),message:"\u0e23\u0e31\u0e1a\u0e17\u0e23\u0e32\u0e1a\u0e01\u0e32\u0e23\u0e41\u0e08\u0e49\u0e07\u0e40\u0e15\u0e37\u0e2d\u0e19",detail:"\u0e1e\u0e22\u0e32\u0e1a\u0e32\u0e25\u0e01\u0e33\u0e25\u0e31\u0e07\u0e14\u0e33\u0e40\u0e19\u0e34\u0e19\u0e01\u0e32\u0e23"}),console.log(`Alert for ${this.device.espName} acknowledged.`))}updateLastUpdateTime(){this.lastUpdate=B.c9.now().toFormat("HH:mm \u0e19.")}startTimeUpdater(){this.timeUpdateInterval=setInterval(()=>{this.updateLastUpdateTime()},this.TIME_UPDATE_INTERVAL_MS)}initAlertSound(){var t=this;return(0,Se.A)(function*(){try{t.alertAudio=new Audio,t.alertAudio.src="assets/sounds/alert.mp3",t.alertAudio.volume=.7,t.alertAudio.addEventListener("error",()=>{console.log("Alert sound file not found, creating beep sound..."),t.createBeepSound()}),t.alertAudio.load()}catch(n){console.warn("Cannot initialize alert sound:",n),t.createBeepSound()}})()}createBeepSound(){try{const t=window.AudioContext||window.webkitAudioContext;if(!t)throw new Error("Web Audio API not supported");const n=new t,o=n.sampleRate,a=n.createBuffer(1,.8*o,o),l=a.getChannelData(0);for(let c=0;c<a.length;c++)l[c]=.3*Math.sin(2*(c<a.length/2?800:1200)*Math.PI*c/o);this.bufferToAudio(a,n)}catch{console.warn("Web Audio API not supported, using fallback alert method")}}bufferToAudio(t,n){try{const i=t.numberOfChannels,o=t.length*i*2+44,a=new ArrayBuffer(o),l=new DataView(a),c=[];for(let p=0;p<i;p++)c.push(t.getChannelData(p));const m=(p,g)=>{for(let v=0;v<g.length;v++)l.setUint8(p+v,g.charCodeAt(v))};m(0,"RIFF"),l.setUint32(4,o-8,!0),m(8,"WAVE"),m(12,"fmt "),l.setUint32(16,16,!0),l.setUint16(20,1,!0),l.setUint16(22,i,!0),l.setUint32(24,n.sampleRate,!0),l.setUint32(28,n.sampleRate*i*2,!0),l.setUint16(32,2*i,!0),l.setUint16(34,16,!0),m(36,"data"),l.setUint32(40,t.length*i*2,!0);let h=44;for(let p=0;p<t.length;p++)for(let g=0;g<i;g++){const v=Math.max(-1,Math.min(1,c[g][p]));l.setInt16(h,v<0?32768*v:32767*v,!0),h+=2}const _=new Blob([a],{type:"audio/wav"});this.alertAudio&&(this.alertAudio.src.startsWith("blob:")&&URL.revokeObjectURL(this.alertAudio.src),this.alertAudio.src=URL.createObjectURL(_))}catch(i){console.warn("Error creating audio buffer:",i)}}playAlertSound(){var t=this;return(0,Se.A)(function*(){if(t.alertAudio)try{if(t.alertAudio.currentTime=0,t.alertAudio.paused){const n=t.alertAudio.play();void 0!==n&&(yield n,console.log("Alert sound played successfully"))}}catch(n){console.warn("Cannot play alert sound:",n),t.fallbackAlert()}else t.fallbackAlert()})()}fallbackAlert(){"vibrate"in navigator&&navigator.vibrate([200,100,200,100,200]),this.showNotification(`\u{1f6a8} ${this.device.espName} \u0e01\u0e14\u0e1b\u0e38\u0e48\u0e21\u0e41\u0e08\u0e49\u0e07\u0e40\u0e15\u0e37\u0e2d\u0e19`,"error")}subscribeToDeviceState(){this._socketService.deviceState$.pipe((0,Ie.Q)(this._unsubscribeAll),(0,kt.p)(t=>!!t&&t.espId===this.device.espId),(0,P.M)(t=>{this.isOnline.next(!0),this.updateLastUpdateTime();const n="1"===t.state,i=this.deviceStatus.value;n&&"idle"===i?(console.log(`\u{1f6a8} Alert from ${this.device.espName}!`),this.playAlertSound(),this.addAlertToHistory({type:"alert",time:B.c9.now().toFormat("HH:mm \u0e19."),message:"\u0e40\u0e23\u0e35\u0e22\u0e01\u0e1e\u0e22\u0e32\u0e1a\u0e32\u0e25",detail:"\u0e01\u0e14\u0e1b\u0e38\u0e48\u0e21\u0e09\u0e38\u0e01\u0e40\u0e09\u0e34\u0e19"}),this.deviceStatus.next("alerting")):!n&&"idle"!==i&&(this.addAlertToHistory({type:"reset",time:B.c9.now().toFormat("HH:mm \u0e19."),message:"\u0e23\u0e35\u0e40\u0e0b\u0e47\u0e15\u0e2d\u0e38\u0e1b\u0e01\u0e23\u0e13\u0e4c",detail:"\u0e2d\u0e38\u0e1b\u0e01\u0e23\u0e13\u0e4c\u0e01\u0e25\u0e31\u0e1a\u0e2a\u0e39\u0e48\u0e2a\u0e16\u0e32\u0e19\u0e30\u0e1e\u0e23\u0e49\u0e2d\u0e21\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19"}),this.deviceStatus.next("idle"),this.muteAlert())}),function Bt(s,r){const{first:t,each:n,with:i=Nt,scheduler:o=r??_t.E,meta:a=null}=(0,Tt.v)(s)?{first:s}:"number"==typeof s?{each:s}:s;if(null==t&&null==n)throw new TypeError("No timeout provided.");return(0,At.N)((l,c)=>{let m,h,_=null,p=0;const g=v=>{h=(0,It.N)(c,o,()=>{try{m.unsubscribe(),(0,Ct.Tg)(i({meta:a,lastValue:_,seen:p})).subscribe(c)}catch(wr){c.error(wr)}},v)};m=l.subscribe((0,Rt._)(c,v=>{h?.unsubscribe(),p++,c.next(_=v),n>0&&g(n)},void 0,void 0,()=>{h?.closed||h?.unsubscribe(),_=null})),!p&&g(null!=t?"number"==typeof t?t:+t-o.now():n)})}(this.OFFLINE_TIMEOUT_MS)).subscribe({next:()=>{},error:t=>{console.warn(`Device ${this.device.espName} appears to be offline`),this.isOnline.next(!1),this.subscribeToDeviceState()}})}cleanup(){this.alertAudio&&(this.alertAudio.pause(),this.alertAudio.currentTime=0),document.body.style.overflow="auto",this.alertAudio&&this.alertAudio.src.startsWith("blob:")&&URL.revokeObjectURL(this.alertAudio.src),this.timeUpdateInterval&&clearInterval(this.timeUpdateInterval),this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}hasGpsLocation(){return!(!this.device.gpsLat||!this.device.gpsLng||0===this.device.gpsLat||0===this.device.gpsLng)}addAlertToHistory(t){this.alertHistory.unshift(t),this.alertHistory.length>this.MAX_ALERT_HISTORY&&this.alertHistory.pop()}showNotification(t,n="info"){const i=document.createElement("div");i.className="fixed top-5 right-5 z-[9999] px-6 py-4 rounded-xl shadow-2xl transition-all duration-500 transform translate-x-[120%] opacity-0",i.className+=` ${{success:"bg-gradient-to-br from-emerald-500 to-teal-500 text-white",error:"bg-gradient-to-br from-red-500 to-orange-500 text-white",warning:"bg-gradient-to-br from-amber-500 to-yellow-500 text-white",info:"bg-gradient-to-br from-sky-500 to-blue-500 text-white"}[n]}`,i.innerHTML=`\n            <div class="flex items-center gap-4">\n                <i class="fa-solid ${{success:"fa-check-circle",error:"fa-exclamation-triangle",warning:"fa-exclamation-circle",info:"fa-info-circle"}[n]} text-2xl animate-pulse"></i>\n                <div class="flex flex-col">\n                    <span class="font-bold text-lg">${t}</span>\n                    <span class="text-sm opacity-80">\u0e40\u0e27\u0e25\u0e32 ${B.c9.now().toFormat("HH:mm:ss")} \u0e19.</span>\n                </div>\n            </div>\n        `,document.body.appendChild(i),setTimeout(()=>{i.classList.remove("translate-x-[120%]","opacity-0"),i.classList.add("translate-x-0","opacity-100")},100),setTimeout(()=>{i.classList.add("translate-x-[120%]","opacity-0"),setTimeout(()=>{i.parentNode&&document.body.removeChild(i)},500)},5e3)}static{this.\u0275fac=function(n){return new(n||s)(e.rXU(se))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["esp-monitor"]],inputs:{device:"device"},standalone:!0,features:[e.aNF],decls:5,vars:5,consts:[["offlineCard",""],["class","col-span-1 flex flex-col flex-auto shadow-lg rounded-2xl overflow-hidden cursor-pointer transition-all duration-500 hover:scale-[1.02] hover:shadow-xl backdrop-blur-sm group relative",3,"ngClass","click",4,"ngIf","ngIfElse"],["class","fixed inset-0 bg-gradient-to-br from-black/70 via-emerald-900/20 to-black/70 backdrop-blur-md flex items-center justify-center z-50 p-4 animate-fadeIn",3,"click",4,"ngIf"],[1,"col-span-1","flex","flex-col","flex-auto","shadow-lg","rounded-2xl","overflow-hidden","cursor-pointer","transition-all","duration-500","hover:scale-[1.02]","hover:shadow-xl","backdrop-blur-sm","group","relative",3,"click","ngClass"],[1,"absolute","inset-0","opacity-5","pointer-events-none"],[1,"absolute","top-0","right-0","w-32","h-32","bg-gradient-to-br","from-emerald-500","to-teal-500","rounded-full","blur-2xl"],[1,"absolute","bottom-0","left-0","w-24","h-24","bg-gradient-to-tr","from-teal-400","to-emerald-400","rounded-full","blur-2xl"],[1,"flex","items-start","justify-between","px-4","pt-4","pb-2","relative","z-10"],[1,"text-lg","font-extrabold","tracking-tight","leading-6","truncate","bg-gradient-to-r","from-emerald-600","via-teal-600","to-emerald-700","text-transparent","bg-clip-text","flex-1","mr-2","drop-shadow-sm"],[1,"fa-solid","fa-home","mr-2","text-emerald-600","drop-shadow","text-sm"],[1,"flex-shrink-0","p-2","bg-gradient-to-br","from-white","via-emerald-50","to-teal-50","rounded-full","border","border-emerald-300/50","shadow-md","hover:shadow-lg","transition-all","duration-300","group-hover:scale-110"],[1,"relative","w-4","h-4","flex","items-center","justify-center"],[1,"fa-solid","fa-wifi","text-sm","transition-all","duration-300","text-emerald-600","drop-shadow-md"],["class","absolute top-0 right-0 flex h-1.5 w-1.5",4,"ngIf"],[1,"flex","flex-row","items-center","justify-center","px-4","pb-4","pt-1","relative","z-10"],[1,"flex","items-center","justify-center","p-3"],[1,"relative"],[1,"absolute","inset-0","rounded-full","blur-2xl","opacity-40","group-hover:opacity-60","transition-opacity","duration-500",3,"ngClass"],[1,"fa-solid","fa-bell","text-6xl","transition-all","duration-700","hover:scale-125","drop-shadow-xl","relative","z-10","filter",2,"filter","drop-shadow(0 3px 15px rgba(16, 185, 129, 0.3))",3,"ngClass"],["class","absolute inset-0",4,"ngIf"],["class","absolute inset-0 animate-pulse",4,"ngIf"],[1,"flex","flex-col","ml-4","space-y-2.5"],[1,"text-base","font-bold","bg-gradient-to-r","from-gray-700","to-gray-800","text-transparent","bg-clip-text","flex","items-center","justify-start"],[1,"fa-solid","fa-stethoscope","mr-2","text-emerald-600","drop-shadow","text-sm"],[1,"flex","items-center","justify-start"],[1,"inline-flex","items-center","px-5","py-2.5","rounded-xl","text-base","font-extrabold","shadow-lg","border-2","backdrop-blur-md","transition-all","duration-500","hover:scale-105",3,"ngClass"],[1,"relative","flex","items-center"],[1,"mr-2","fa-solid","text-base",3,"ngClass"],["class","flex items-center justify-start",4,"ngIf"],["class","text-xs flex justify-start",4,"ngIf"],[1,"text-xs","text-gray-700","flex","items-center","bg-gradient-to-r","from-gray-100/80","via-white","to-gray-100/80","px-3","py-1.5","rounded-lg","shadow-sm","border","border-gray-200/50","backdrop-blur-sm","hover:shadow-md","transition-all","duration-300"],[1,"fa-solid","fa-clock","mr-1.5","text-emerald-600","text-xs"],[1,"font-medium"],[1,"ml-1","font-bold","text-gray-800"],[1,"absolute","inset-0","rounded-2xl","opacity-0","group-hover:opacity-100","transition-opacity","duration-500","pointer-events-none",2,"box-shadow","inset 0 0 15px rgba(16, 185, 129, 0.1)"],[1,"absolute","top-0","right-0","flex","h-1.5","w-1.5"],[1,"animate-ping","absolute","inline-flex","h-full","w-full","rounded-full","bg-emerald-400","opacity-75"],[1,"relative","inline-flex","rounded-full","h-1.5","w-1.5","bg-emerald-500"],[1,"absolute","inset-0"],[1,"fa-solid","fa-bell","text-6xl","text-red-400","opacity-60","animate-ping"],[1,"absolute","inset-0","animate-pulse"],[1,"fa-solid","fa-bell","text-6xl","text-orange-400","opacity-40"],[1,"flex","items-center","px-3","py-1.5","bg-gradient-to-r","from-emerald-100/60","via-teal-100/60","to-emerald-100/60","rounded-full","border","border-emerald-300/50","shadow-md","backdrop-blur-sm","hover:shadow-lg","transition-all","duration-300","hover:scale-105"],[1,"fa-solid","fa-wifi","text-xs","text-emerald-600","drop-shadow"],[1,"font-semibold","text-emerald-700","ml-1.5","text-sm"],[1,"flex","items-end","space-x-0.5","ml-2"],[1,"w-0.5","h-1.5","rounded-sm","bg-emerald-600","animate-pulse",2,"animation-delay","0ms"],[1,"w-0.5","h-2","rounded-sm","bg-emerald-600","animate-pulse",2,"animation-delay","150ms"],[1,"w-0.5","h-2.5","rounded-sm","bg-emerald-600","animate-pulse",2,"animation-delay","300ms"],[1,"w-0.5","h-3","rounded-sm","bg-emerald-500","animate-pulse",2,"animation-delay","450ms"],[1,"flex","items-center","px-3","py-1.5","bg-gradient-to-r","from-red-100/60","via-orange-100/60","to-red-100/60","rounded-full","border","border-red-300/50","shadow-md","backdrop-blur-sm","animate-pulse"],[1,"fa-solid","fa-wifi-slash","text-xs","text-red-600"],[1,"font-semibold","text-red-700","ml-1.5","text-sm"],[1,"text-xs","flex","justify-start"],["target","_blank",1,"inline-flex","items-center","px-3","py-1.5","bg-gradient-to-r","from-white","via-emerald-50/50","to-white","hover:from-emerald-100/60","hover:via-teal-100/60","hover:to-emerald-100/60","border","border-emerald-300/60","rounded-lg","text-emerald-700","hover:text-emerald-800","transition-all","duration-300","font-semibold","group/link","shadow-sm","hover:shadow-md","hover:scale-105","backdrop-blur-sm",3,"click","href"],[1,"fa-solid","fa-hospital","mr-1.5","group-hover/link:animate-pulse","text-emerald-600","drop-shadow","text-xs"],[1,"underline","decoration-dotted","underline-offset-2"],[1,"fa-solid","fa-external-link-alt","ml-1.5","text-[10px]","opacity-70","group-hover/link:opacity-100","group-hover/link:translate-x-0.5","transition-all"],[1,"col-span-1","flex","flex-col","flex-auto","bg-gradient-to-br","from-white","via-red-50/20","to-white","shadow-lg","rounded-2xl","overflow-hidden","cursor-pointer","transition-all","duration-500","hover:scale-[1.02]","hover:shadow-xl","border","border-red-200/50","backdrop-blur-sm","group","relative",3,"click"],[1,"absolute","top-0","right-0","w-32","h-32","bg-gradient-to-br","from-red-500","to-orange-500","rounded-full","blur-2xl"],[1,"absolute","bottom-0","left-0","w-24","h-24","bg-gradient-to-tr","from-orange-400","to-red-400","rounded-full","blur-2xl"],[1,"text-lg","font-extrabold","tracking-tight","leading-6","truncate","bg-gradient-to-r","from-gray-600","via-gray-600","to-gray-700","text-transparent","bg-clip-text","flex-1","mr-2","drop-shadow-sm"],[1,"fa-solid","fa-home","mr-2","text-gray-500","drop-shadow","text-sm"],[1,"flex-shrink-0","p-2","bg-gradient-to-br","from-white","via-red-50","to-orange-50","rounded-full","border","border-red-300/50","shadow-md"],[1,"fa-solid","fa-wifi","text-sm","text-red-500","animate-pulse"],[1,"fa-solid","fa-bell-slash","text-6xl","text-gray-400","drop-shadow-lg","relative","z-10","filter","opacity-50"],[1,"fa-solid","fa-stethoscope","mr-2","text-gray-500","drop-shadow","text-sm"],[1,"inline-flex","items-center","px-5","py-2.5","rounded-xl","text-base","font-extrabold","shadow-lg","border-2","backdrop-blur-md","bg-gradient-to-r","from-gray-100/80","to-gray-100/80","text-gray-500","border-gray-300/60"],[1,"mr-2","fa-solid","fa-power-off","text-gray-500"],[1,"text-xs","text-gray-700","flex","items-center","bg-gradient-to-r","from-gray-100/80","via-white","to-gray-100/80","px-3","py-1.5","rounded-lg","shadow-sm","border","border-gray-200/50","backdrop-blur-sm"],[1,"fa-solid","fa-clock","mr-1.5","text-gray-500","text-xs"],[1,"fixed","inset-0","bg-gradient-to-br","from-black/70","via-emerald-900/20","to-black/70","backdrop-blur-md","flex","items-center","justify-center","z-50","p-4","animate-fadeIn",3,"click"],[1,"bg-white/95","backdrop-blur-xl","rounded-3xl","shadow-[0_20px_50px_-15px_rgba(0,0,0,0.3)]","max-w-2xl","w-full","max-h-[90vh]","overflow-hidden","transform","transition-all","duration-700","scale-100","animate-slideUp","border","border-emerald-200/60","relative",3,"click"],[1,"absolute","top-0","right-0","w-48","h-48","bg-gradient-to-bl","from-emerald-200/30","via-teal-200/20","to-transparent","rounded-full","blur-3xl","pointer-events-none"],[1,"absolute","bottom-0","left-0","w-36","h-36","bg-gradient-to-tr","from-teal-200/30","via-emerald-200/20","to-transparent","rounded-full","blur-3xl","pointer-events-none"],[1,"bg-gradient-to-br","from-emerald-500","via-emerald-600","to-teal-600","text-white","p-6","relative","overflow-hidden"],[1,"absolute","inset-0","bg-gradient-to-br","from-white/10","via-transparent","to-white/5"],[1,"absolute","inset-0","opacity-10","bg-[radial-gradient(circle_at_50%_120%,rgba(255,255,255,0.8),transparent)]"],[1,"absolute","top-2","right-4","opacity-10","animate-pulse"],[1,"fa-solid","fa-hospital","text-[8rem]"],[1,"relative","flex","items-center","justify-between"],[1,"flex","items-center"],[1,"relative","group/icon"],[1,"absolute","inset-0","bg-white/30","rounded-2xl","blur-lg","group-hover/icon:blur-xl","transition-all","duration-300"],[1,"relative","p-3","bg-gradient-to-br","from-white/25","to-white/10","rounded-2xl","mr-4","backdrop-blur-md","border","border-white/40","shadow-xl","transform","group-hover/icon:scale-105","transition-all","duration-300"],[1,"fa-solid","fa-user-nurse","text-3xl","drop-shadow-xl",3,"ngClass"],[1,"text-2xl","font-extrabold","mb-1","drop-shadow-xl","tracking-tight"],[1,"text-emerald-50/95","text-sm","opacity-95","flex","items-center","font-medium","drop-shadow-lg"],[1,"fa-solid","fa-hospital","mr-2","text-xs"],[1,"mt-1.5","inline-flex","items-center","px-2.5","py-1","rounded-full","text-xs","font-bold","bg-white/20","backdrop-blur-sm","border","border-white/30",3,"ngClass"],[1,"relative","flex","h-1.5","w-1.5","mr-1.5"],[1,"animate-ping","absolute","inline-flex","h-full","w-full","rounded-full","opacity-75",3,"ngClass"],[1,"relative","inline-flex","rounded-full","h-1.5","w-1.5",3,"ngClass"],[1,"text-white/90","hover:text-white","text-xl","transition-all","duration-300","w-10","h-10","flex","items-center","justify-center","rounded-xl","hover:bg-white/25","backdrop-blur-md","border","border-white/40","transform","hover:scale-110","hover:rotate-90","active:scale-95","shadow-xl","group/close",3,"click"],[1,"fa-solid","fa-times","group-hover/close:drop-shadow-lg"],[1,"p-4","sm:p-6","overflow-y-auto","max-h-[calc(90vh-150px)]","sm:max-h-[60vh]","space-y-5","bg-gradient-to-b","from-white","via-emerald-50/20","to-white","relative"],[1,"bg-gradient-to-br","from-white","via-emerald-50/40","to-teal-50/40","rounded-2xl","p-5","border","border-emerald-200/60","shadow-lg","hover:shadow-xl","transition-all","duration-500","relative","overflow-hidden","group/status"],[1,"absolute","inset-0","bg-gradient-to-br","from-emerald-100/0","via-teal-100/0","to-emerald-100/0","group-hover/status:from-emerald-100/20","group-hover/status:via-teal-100/20","group-hover/status:to-emerald-100/20","transition-all","duration-700"],[1,"flex","flex-col","sm:flex-row","sm:items-center","justify-between","mb-5","gap-3","relative","z-10"],[1,"text-lg","font-extrabold","text-transparent","bg-clip-text","bg-gradient-to-r","from-emerald-700","via-teal-700","to-emerald-700","flex","items-center"],[1,"p-2","bg-gradient-to-br","from-emerald-100","to-teal-100","rounded-xl","mr-3","shadow-sm","border","border-emerald-200"],[1,"fa-solid","fa-heartbeat","text-lg","text-emerald-600"],[1,"px-4","py-2","sm:px-5","sm:py-2.5","rounded-xl","text-sm","font-extrabold","shadow-lg","border-2","backdrop-blur-md","transition-all","duration-500","hover:scale-105","hover:shadow-xl","relative","overflow-hidden",3,"ngClass"],[1,"absolute","inset-0","bg-gradient-to-r","from-transparent","via-white/20","to-transparent","-translate-x-full","group-hover/status:translate-x-full","transition-transform","duration-1000"],[1,"fa-solid","mr-2","text-base",3,"ngClass"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4","relative","z-10"],[1,"group/card","text-center","p-5","bg-gradient-to-br","from-white","to-emerald-50/60","rounded-2xl","shadow-md","border","border-emerald-200/50","hover:shadow-lg","transition-all","duration-500","hover:-translate-y-1","relative","overflow-hidden"],[1,"absolute","inset-0","opacity-0","group-hover/card:opacity-100","bg-gradient-to-br","from-emerald-100/30","via-teal-100/30","to-emerald-100/30","transition-opacity","duration-500"],[1,"mb-4","relative"],[1,"absolute","inset-0","bg-gradient-to-br","from-emerald-200","to-teal-200","rounded-full","blur-2xl","opacity-40","group-hover/card:opacity-60","transition-opacity","duration-500"],[1,"fa-solid","fa-wifi","text-4xl","mb-2","relative","z-10","drop-shadow-lg","transition-transform","duration-500","group-hover/card:scale-110",3,"ngClass"],[1,"text-xs","text-gray-600","mb-2","font-semibold","uppercase","tracking-wide"],[1,"font-extrabold","text-lg","mb-3",3,"ngClass"],[1,"h-2","bg-gradient-to-r","from-gray-200","via-gray-100","to-gray-200","rounded-full","overflow-hidden","shadow-inner","relative"],[1,"h-full","transition-all","duration-1000","ease-out","rounded-full","relative","overflow-hidden",3,"ngClass"],[1,"absolute","inset-0","bg-gradient-to-r","from-transparent","via-white/30","to-transparent","animate-shimmer"],["class","mt-3 flex justify-center items-end space-x-1",4,"ngIf"],[1,"group/card","text-center","p-5","bg-gradient-to-br","from-white","to-teal-50/60","rounded-2xl","shadow-md","border","border-emerald-200/50","hover:shadow-lg","transition-all","duration-500","hover:-translate-y-1","relative","overflow-hidden"],[1,"absolute","inset-0","opacity-0","group-hover/card:opacity-100","bg-gradient-to-br","from-teal-100/30","via-emerald-100/30","to-teal-100/30","transition-opacity","duration-500"],[1,"fa-solid","fa-clock","text-4xl","text-emerald-600","mb-2","relative","z-10","drop-shadow-lg","transition-transform","duration-500","group-hover/card:scale-110","group-hover/card:rotate-12"],[1,"font-extrabold","text-lg","text-emerald-700","mb-3"],[1,"inline-flex","items-center","px-4","py-2","rounded-full","text-xs","font-bold","shadow-md","border-2","transition-all","duration-300","hover:scale-105",3,"ngClass"],[1,"fa-solid","mr-1.5","text-sm",3,"ngClass"],[1,"mt-3","flex","justify-center"],[1,"flex","items-center","space-x-1"],[1,"w-1.5","h-1.5","rounded-full","animate-pulse",3,"ngClass"],[1,"text-xs","font-semibold",3,"ngClass"],[1,"text-lg","font-extrabold","text-transparent","bg-clip-text","bg-gradient-to-r","from-emerald-700","via-teal-700","to-emerald-700","mb-4","flex","items-center"],[1,"p-2","bg-gradient-to-br","from-emerald-100","to-teal-100","rounded-xl","mr-3","shadow-sm","border","border-emerald-200","group-hover:scale-110","transition-transform","duration-300"],[1,"fa-solid","fa-clipboard-list","text-lg","text-emerald-600"],[1,"bg-gradient-to-br","from-white","via-teal-50/40","to-emerald-50/40","border","border-emerald-200/60","rounded-2xl","overflow-hidden","shadow-lg","hover:shadow-xl","transition-all","duration-500"],[1,"divide-y","divide-emerald-100/60"],[1,"group/item","flex","flex-col","sm:flex-row","sm:justify-between","sm:items-center","gap-2","py-3","px-5","hover:bg-gradient-to-r","hover:from-emerald-50/60","hover:via-teal-50/60","hover:to-emerald-50/60","transition-all","duration-300","relative","overflow-hidden"],[1,"absolute","inset-0","bg-gradient-to-r","from-emerald-100/0","via-teal-100/0","to-emerald-100/0","group-hover/item:from-emerald-100/20","group-hover/item:via-teal-100/20","group-hover/item:to-emerald-100/20","transition-all","duration-500"],[1,"text-gray-700","font-bold","flex","items-center","relative","z-10","text-sm"],[1,"p-1.5","bg-gradient-to-br","from-emerald-100","to-teal-100","rounded-lg","mr-2","shadow-sm","border","border-emerald-200"],[1,"fa-solid","fa-hashtag","text-emerald-600","text-xs"],[1,"font-extrabold","text-gray-900","font-mono","bg-gradient-to-r","from-emerald-100/80","to-teal-100/80","px-3","py-1.5","rounded-lg","border","border-emerald-300/60","shadow-sm","hover:shadow-md","transition-all","duration-300","relative","z-10","group-","hover/item:scale-105","text-sm"],[1,"group/item","flex","flex-col","sm:flex-row","sm:justify-between","sm:items-center","gap-2","py-3","px-5","hover:bg-gradient-to-r","hover:from-teal-50/60","hover:via-emerald-50/60","hover:to-teal-50/60","transition-all","duration-300","relative","overflow-hidden"],[1,"absolute","inset-0","bg-gradient-to-r","from-teal-100/0","via-emerald-100/0","to-teal-100/0","group-hover/item:from-teal-100/20","group-hover/item:via-emerald-100/20","group-hover/item:to-teal-100/20","transition-all","duration-500"],[1,"p-1.5","bg-gradient-to-br","from-teal-100","to-emerald-100","rounded-lg","mr-2","shadow-sm","border","border-teal-200"],[1,"fa-solid","fa-hospital","text-teal-600","text-xs"],[1,"font-extrabold","text-gray-900","text-base","relative","z-10","group-hover/item:scale-105","transition-transform","duration-300"],[1,"fa-solid","fa-user-nurse","text-emerald-600","text-xs"],[1,"font-extrabold","text-gray-900","flex","items-center","bg-gradient-to-r","from-emerald-100/80","to-teal-100/80","px-3","py-1.5","rounded-lg","border","border-emerald-300/60","shadow-sm","hover:shadow-md","transition-all","duration-300","relative","z-10","group-hover/item:scale-105","text-sm"],[1,"p-1","bg-gradient-to-br","from-emerald-200","to-teal-200","rounded-md","mr-2","shadow-sm"],[1,"fa-solid","fa-bell","text-emerald-700","text-xs"],["class","group/item flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 py-3 px-5 hover:bg-gradient-to-r hover:from-teal-50/60 hover:via-emerald-50/60 hover:to-teal-50/60 transition-all duration-300 relative overflow-hidden",4,"ngIf"],[1,"bg-gradient-to-r","from-emerald-50/80","via-teal-50/80","to-emerald-50/80","backdrop-blur-sm","px-6","py-4","flex","justify-between","items-center","border-t","border-emerald-200/60","relative","overflow-hidden"],[1,"absolute","inset-0","bg-gradient-to-r","from-white/50","via-transparent","to-white/50","opacity-50"],[1,"text-xs","text-gray-600","font-medium","flex","items-center","relative","z-10"],[1,"fa-solid","fa-info-circle","mr-1.5","text-emerald-600","text-sm"],[1,"hidden","sm:inline"],[1,"bg-gradient-to-r","from-emerald-600","via-teal-600","to-emerald-600","hover:from-emerald-700","hover:via-teal-700","hover:to-emerald-700","text-white","px-5","py-2.5","rounded-xl","font-bold","text-sm","shadow-lg","hover:shadow-xl","transition-all","duration-500","transform","hover:-translate-y-0.5","hover:scale-105","active:scale-95","flex","items-center","border","border-emerald-700/50","relative","z-10","group/btn","overflow-hidden",3,"click"],[1,"absolute","inset-0","bg-gradient-to-r","from-transparent","via-white/20","to-transparent","-translate-x-full","group-hover/btn:translate-x-full","transition-transform","duration-700"],[1,"fa-solid","fa-times","mr-2","text-base","group-hover/btn:rotate-90","transition-transform","duration-300"],[1,"mt-3","flex","justify-center","items-end","space-x-1"],[1,"w-1.5","h-2","rounded-sm","bg-emerald-600","animate-pulse",2,"animation-delay","0ms"],[1,"w-1.5","h-2.5","rounded-sm","bg-emerald-600","animate-pulse",2,"animation-delay","150ms"],[1,"w-1.5","h-3","rounded-sm","bg-emerald-600","animate-pulse",2,"animation-delay","300ms"],[1,"w-1.5","h-4","rounded-sm","bg-emerald-500","animate-pulse",2,"animation-delay","450ms"],[1,"fa-solid","fa-map-marker-alt","text-teal-600","text-xs"],["target","_blank",1,"font-extrabold","text-emerald-700","hover:text-emerald-800","transition-all","duration-300","inline-flex","items-center","px-3","py-1.5","bg-gradient-to-r","from-white","via-emerald-50/50","to-white","hover:from-emerald-100/60","hover:via-teal-100/60","hover:to-emerald-100/60","rounded-lg","border","border-emerald-300/60","group/link","shadow-sm","hover:shadow-md","relative","z-10","hover:scale-105","text-sm",3,"click","href"],[1,"fa-solid","fa-hospital","mr-2","group-hover/link:animate-pulse","drop-shadow","text-xs"],[1,"fa-solid","fa-external-link-alt","ml-2","text-[10px]","opacity-70","group-hover/link:opacity-100","group-hover/link:translate-x-1","transition-all"]],template:function(n,i){if(1&n&&(e.DNE(0,er,60,78,"div",1),e.nI1(1,"async"),e.DNE(2,tr,33,2,"ng-template",null,0,e.C5r)(4,nr,154,140,"div",2)),2&n){const o=e.sdS(3);e.Y8G("ngIf",e.bMT(1,3,i.isOnline))("ngIfElse",o),e.R7$(4),e.Y8G("ngIf",i.showModal)}},dependencies:[y.Jj,y.YU,y.bT],encapsulation:2})}}return s})();var or=u(4160);const ar=(s,r)=>({"border-emerald-200/60":s,"border-red-200/60":r}),lr=(s,r)=>({"fa-bell text-emerald-500":s,"fa-bell-slash text-red-500":r});function cr(s,r){if(1&s){const t=e.RV6();e.j41(0,"div",8)(1,"div",9),e.bIt("click",function(){const i=e.eBV(t).$implicit,o=e.XpG();return e.Njj(o.onLogClick(i.espId))}),e.j41(2,"div",10),e.nrm(3,"i",11),e.j41(4,"div",12),e.EFF(5),e.k0s()(),e.j41(6,"div",10)(7,"div",13),e.EFF(8),e.nI1(9,"slice"),e.k0s()()()()}if(2&s){const t=r.$implicit;e.R7$(),e.Y8G("ngClass",e.l_i(8,ar,"1"==t.state,"0"==t.state)),e.R7$(2),e.Y8G("ngClass",e.l_i(11,lr,"1"==t.state,"0"==t.state)),e.R7$(2),e.JRh(t.espName),e.R7$(3),e.JRh(e.brH(9,4,t.createAt,11,19))}}let dr=(()=>{class s{constructor(t){this.monitService=t,this._unsubscribeAll=new Re.B,this.socket=R(I._.ws,{transports:["websocket"],upgrade:!1,reconnectionAttempts:5,reconnectionDelay:1e3,path:"/socket.io"}),this.socket.on("log-state",n=>{console.log("Received logs:",n),n&&Array.isArray(n)&&(this.monitService.logState=n)})}ngOnInit(){this.monitService.getLog().subscribe(t=>{console.log("Initial logs loaded:",t)},t=>{console.error("Error loading logs:",t)}),this.monitService.logState$.pipe((0,Ie.Q)(this._unsubscribeAll)).subscribe(t=>{console.log("Log state updated:",t)})}ngOnDestroy(){this.socket&&this.socket.disconnect(),this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}trackByLogId(t,n){return n.id||n.espName+n.createAt}static{this.\u0275fac=function(n){return new(n||s)(e.rXU(O))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["devices-network"]],standalone:!0,features:[e.aNF],decls:10,vars:3,consts:[[1,"bg-gradient-to-br","from-white","via-emerald-50/30","to-white","shadow-xl","rounded-2xl","p-6","border","border-emerald-200/50","backdrop-blur-sm","relative","overflow-hidden","h-fit","w-[22rem]"],[1,"absolute","top-0","right-0","w-32","h-32","bg-gradient-to-br","from-emerald-400/10","to-teal-400/10","rounded-full","blur-2xl","pointer-events-none"],[1,"absolute","bottom-0","left-0","w-24","h-24","bg-gradient-to-tr","from-teal-300/10","to-emerald-300/10","rounded-full","blur-2xl","pointer-events-none"],[1,"relative","z-10","mb-5","flex","items-center","gap-3"],[1,"p-2","bg-gradient-to-br","from-emerald-100","to-teal-100","rounded-xl","shadow-sm","border","border-emerald-200"],[1,"fa-solid","fa-history","text-lg","text-emerald-600"],[1,"text-xl","font-extrabold","text-transparent","bg-clip-text","bg-gradient-to-r","from-emerald-700","via-teal-700","to-emerald-700","drop-shadow-sm"],["class","space-y-2 relative z-10",4,"ngFor","ngForOf"],[1,"space-y-2","relative","z-10"],[1,"flex","justify-between","items-center","p-3","bg-white/70","backdrop-blur-md","rounded-xl","border","hover:shadow-lg","hover:border-emerald-300/70","transition-all","duration-300","hover:scale-[1.02]","cursor-pointer",3,"click","ngClass"],[1,"flex","items-center","space-x-3"],[1,"fa-solid","text-lg","transition-all","duration-200",3,"ngClass"],[1,"text-sm","font-bold","text-gray-800","tracking-wide"],[1,"text-xs","text-gray-500","font-semibold","bg-gray-100/80","px-2.5","py-1","rounded-md","border","border-gray-200/80"]],template:function(n,i){1&n&&(e.j41(0,"div",0),e.nrm(1,"div",1)(2,"div",2),e.j41(3,"div",3)(4,"div",4),e.nrm(5,"i",5),e.k0s(),e.j41(6,"h3",6),e.EFF(7," \u0e1b\u0e23\u0e30\u0e27\u0e31\u0e15\u0e34\u0e01\u0e32\u0e23\u0e41\u0e08\u0e49\u0e07\u0e40\u0e15\u0e37\u0e2d\u0e19 "),e.k0s()(),e.DNE(8,cr,10,14,"div",7),e.nI1(9,"async"),e.k0s()),2&n&&(e.R7$(8),e.Y8G("ngForOf",e.bMT(9,1,i.monitService.logState$)))},dependencies:[y.Sq,y.Jj,or.J,y.YU,y.P9],encapsulation:2})}}return s})();var ur=u(9417);function hr(s,r){1&s&&e.nrm(0,"esp-monitor",5),2&s&&e.Y8G("device",r.$implicit)}let fr=(()=>{class s{constructor(t){this.monitService=t}static{this.\u0275fac=function(n){return new(n||s)(e.rXU(O))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["devices-monitor"]],standalone:!0,features:[e.aNF],decls:7,vars:3,consts:[[1,"flex","h-fit"],[1,"flex","flex-wrap","w-full","mx-auto","p-2","md:p-3","lg:flex-[5]"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-4","gap-5","w-full","mt-5"],[3,"device",4,"ngFor","ngForOf"],[1,"lg:flex-1","bg-card","mt-8","mr-3","mb-3","shadow","rounded-2xl","h-fit"],[3,"device"]],template:function(n,i){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.DNE(3,hr,1,1,"esp-monitor",3),e.nI1(4,"async"),e.k0s()(),e.j41(5,"div",4),e.nrm(6,"devices-network"),e.k0s()()),2&n&&(e.R7$(3),e.Y8G("ngForOf",e.bMT(4,1,i.monitService.devices$)))},dependencies:[y.Sq,y.Jj,ir,dr,ur.X1],encapsulation:2,changeDetection:0})}}return s})();var pr=u(9213),mr=u(5542);const gr=(s,r)=>({"text-white":s,"text-red-200 animate-pulse":r}),br=s=>({"animate-pulse":s}),vr=(s,r)=>({"bg-emerald-400":s,"bg-red-300":r}),Er=(s,r)=>({"bg-emerald-500":s,"bg-red-200":r}),yr=(s,r)=>({"text-emerald-700 dark:text-emerald-300":s,"text-red-600 dark:text-red-400":r}),xr=[{path:"",component:Fe,resolve:{devices:()=>(0,e.WQX)(O).getDevices(),ws:()=>(0,e.WQX)(se).connectWs(),logs:()=>(0,e.WQX)(O).getLog()},children:[{path:"",pathMatch:"full",component:(()=>{class s{constructor(t){this._socketIoService=t}static{this.\u0275fac=function(n){return new(n||s)(e.rXU(se))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["home-monitor"]],standalone:!0,features:[e.aNF],decls:42,vars:43,consts:[["devicesMonitor",""],["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-y-auto"],[1,"relative","flex-0","overflow-hidden"],[1,"relative","rounded-2xl","shadow-xl","mt-3","mx-2","px-6","py-4","text-center","font-bold","bg-white/80","dark:bg-gray-800/80","backdrop-blur-lg","border","border-gray-200","dark:border-gray-700/50","overflow-hidden","group"],[1,"absolute","inset-0","bg-gradient-to-br","from-emerald-500/5","via-transparent","to-teal-500/5"],[1,"absolute","inset-0","opacity-10","bg-[radial-gradient(circle_at_50%_120%,rgba(255,255,255,0.8),transparent)]"],[1,"absolute","top-0","right-0","w-40","h-40","bg-gradient-to-bl","from-emerald-400/20","to-transparent","rounded-full","blur-3xl","opacity-50"],[1,"absolute","bottom-0","left-0","w-32","h-32","bg-gradient-to-tr","from-teal-400/20","to-transparent","rounded-full","blur-3xl","opacity-50"],[1,"relative","z-10","flex","flex-col","sm:flex-row","items-center","justify-center","gap-3"],[1,"flex","flex-col","items-center","gap-3","text-center"],[1,"relative","group/icon"],[1,"absolute","inset-0","bg-emerald-400/30","rounded-xl","blur-lg","transition-all","duration-300"],[1,"relative","p-2","bg-gradient-to-br","from-emerald-500/80","to-teal-500/70","rounded-xl","backdrop-blur-md","border","border-white/40","shadow-lg","transform","group-hover/icon:scale-105","transition-all","duration-300"],["fontIcon","local_hospital",1,"text-[28px]","sm:text-[32px]","w-[28px]","sm:w-[32px]","h-[28px]","sm:h-[32px]","drop-shadow-lg","transition-all","duration-300",3,"ngClass"],[1,"text-center"],[1,"text-2xl","sm:text-3xl","lg:text-4xl","font-extrabold","tracking-tight","bg-gradient-to-r","from-emerald-600","via-teal-600","to-emerald-700","text-transparent","bg-clip-text","drop-shadow-sm"],[1,"text-xs","sm:text-sm","text-gray-600","dark:text-gray-400","opacity-90","font-medium","mt-1","flex","items-center","justify-center"],["fontIcon","dashboard",1,"mr-1","text-sm","w-[14px]","h-[14px]"],[1,"absolute","top-4","right-4","inline-flex","items-center","px-4","py-2","rounded-full","text-xs","sm:text-sm","font-bold","bg-white/50","dark:bg-gray-700/50","backdrop-blur-sm","border","border-gray-200","dark:border-gray-600","shadow-lg",3,"ngClass"],[1,"relative","flex","h-2","w-2","mr-2"],[1,"animate-ping","absolute","inline-flex","h-full","w-full","rounded-full","opacity-75",3,"ngClass"],[1,"relative","inline-flex","rounded-full","h-2","w-2",3,"ngClass"],[1,"mr-1.5","text-sm","w-[14px]","h-[14px]",3,"fontIcon"],[3,"ngClass"],[1,"absolute","bottom-4","right-4","inline-flex","items-center","justify-center","w-10","h-10","rounded-full","text-gray-500","dark:text-gray-400","hover:bg-gray-200/60","dark:hover:bg-gray-700/60","transition-all","duration-300",3,"click"],["fontIcon","history"],[1,"absolute","bottom-0","left-0","right-0","h-0.5","bg-gradient-to-r","from-transparent","via-emerald-300/50","to-transparent"]],template:function(n,i){if(1&n){const o=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"div",3),e.nrm(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",7),e.j41(7,"div",8)(8,"div",9)(9,"div",10),e.nrm(10,"div",11),e.j41(11,"div",12),e.nrm(12,"mat-icon",13),e.nI1(13,"async"),e.nI1(14,"async"),e.k0s()(),e.j41(15,"div",14)(16,"div",15),e.EFF(17," Nurse Call Monitor "),e.k0s(),e.j41(18,"div",16),e.nrm(19,"mat-icon",17),e.EFF(20," Center Room Monitor "),e.k0s()()(),e.j41(21,"div",18),e.nI1(22,"async"),e.j41(23,"span",19),e.nrm(24,"span",20),e.nI1(25,"async"),e.nI1(26,"async"),e.nrm(27,"span",21),e.nI1(28,"async"),e.nI1(29,"async"),e.k0s(),e.nrm(30,"mat-icon",22),e.nI1(31,"async"),e.j41(32,"span",23),e.nI1(33,"async"),e.nI1(34,"async"),e.EFF(35),e.nI1(36,"async"),e.k0s()(),e.j41(37,"button",24),e.bIt("click",function(){e.eBV(o);const l=e.sdS(41);return e.Njj(l.openHistorySidebar())}),e.nrm(38,"mat-icon",25),e.k0s()(),e.nrm(39,"div",26),e.k0s(),e.nrm(40,"devices-monitor",null,0),e.k0s()()}2&n&&(e.R7$(12),e.Y8G("ngClass",e.l_i(29,gr,e.bMT(13,7,i._socketIoService.isConnected$),!e.bMT(14,9,i._socketIoService.isConnected$))),e.R7$(9),e.Y8G("ngClass",e.eq3(32,br,!e.bMT(22,11,i._socketIoService.isConnected$))),e.R7$(3),e.Y8G("ngClass",e.l_i(34,vr,e.bMT(25,13,i._socketIoService.isConnected$),!e.bMT(26,15,i._socketIoService.isConnected$))),e.R7$(3),e.Y8G("ngClass",e.l_i(37,Er,e.bMT(28,17,i._socketIoService.isConnected$),!e.bMT(29,19,i._socketIoService.isConnected$))),e.R7$(3),e.Y8G("fontIcon",e.bMT(31,21,i._socketIoService.isConnected$)?"wifi":"wifi_off"),e.R7$(2),e.Y8G("ngClass",e.l_i(40,yr,e.bMT(33,23,i._socketIoService.isConnected$),!e.bMT(34,25,i._socketIoService.isConnected$))),e.R7$(3),e.SpI(" ",e.bMT(36,27,i._socketIoService.isConnected$)?"Connected":"Disconnected"," "))},dependencies:[fr,pr.An,y.YU,y.Jj,mr.uv],encapsulation:2,changeDetection:0})}}return s})()}]}]}}]);